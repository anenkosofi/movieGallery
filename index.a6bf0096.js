var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},s=e.parcelRequired7c6;null==s&&((s=function(e){if(e in t)return t[e].exports;if(e in n){var s=n[e];delete n[e];var i={id:e,exports:{}};return t[e]=i,s.call(i.exports,i,i.exports),i.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){n[e]=t},e.parcelRequired7c6=s),s("5KeTa");var i=s("5KeTa");async function o(e=1){const t=await fetch(`${i.BASE_URL}/trending/movie/day?api_key=${i.API_KEY}&page=${e}`);if(!t.ok)throw new Error(t.status);return await t.json()}var a=s("e2fFv");const l=document.querySelector(".movie-list");function r(e){const t=e.map((({id:e,poster_path:t,title:n,genre_ids:s,release_date:i})=>`<li class="movie-list__item" data-id="${e}">\n            <img class="movie-image" ${(0,a.checkImageSrc)(t)} alt="Movie poster" loading="lazy" />\n            <div class="movie-descr">\n              <h2 class="movie-title">${(0,a.checkTitle)(n)}</h2>\n              <p class="movie-info"><span class="genre">${(0,a.genresIdConverter)(s)} |</span><span>${(0,a.getFullYear)(i)}</span></p>\n            </div>\n        </li>`)).join("");l.innerHTML=t}var c=s("9WIO2");const d=document.querySelector(".movie-list"),u=document.querySelector(".pagination-list"),p=document.querySelector(".pagination"),m=document.querySelector("body").getBoundingClientRect();function f(){[...document.querySelectorAll(".pagination-button")].map((e=>{if(e.classList.contains("active")){const t=Number(e.textContent)-1;o(t).then((({results:e,total_pages:n})=>{r(e),(0,c.clearMarkup)(u),b(t,n),g(t,n),y(t)})).catch((e=>console.log(e)))}}))}function h(){[...document.querySelectorAll(".pagination-button")].map((e=>{if(e.classList.contains("active")){const t=Number(e.textContent)+1;o(t).then((({results:e,total_pages:n})=>{r(e),(0,c.clearMarkup)(u),b(t,n),g(t,n),y(t)})).catch((e=>console.log(e)))}}))}function g(e,t){const n=p.firstElementChild,s=p.lastElementChild;1===e?(n.disabled="true",s.hasAttribute("disabled")&&s.removeAttribute("disabled")):e===t?(s.disabled="true",n.hasAttribute("disabled")&&n.removeAttribute("disabled")):(n.hasAttribute("disabled")&&n.removeAttribute("disabled"),s.hasAttribute("disabled")&&s.removeAttribute("disabled"))}function v(e){return e.map((e=>`<li class="pagination-item">\n          <button class="pagination-button" type="button">${e}</button>\n        </li>`)).join("")}function b(e,t){let n=[],s="",i=0;const o='<li class="pagination-item"><button class="pagination-button" type="button" disabled>...</button></li>',a='<li class="pagination-item"><button class="pagination-button" type="button">1</button></li>',l=`<li class="pagination-item"><button class="pagination-button" type="button">${t}</button></li>`;if(t<=6)if(m.width<768){if(6===t){if(e>=1&&e<=3){i=5;for(let e=1;e<=i;e+=1)n.push(e)}else if(e>=4&&e<=6){i=5;for(let e=2;e<=i;e+=1)n.push(e)}s=`${v(n)}`}else if(t<=5){for(let e=1;e<=t;e+=1)n.push(e);s=`${v(n)}`}}else{for(let e=1;e<=t;e+=1)n.push(e);s=`${v(n)}`}else if(t>6)if(e>=1&&e<=4){i=5;for(let e=1;e<=i;e+=1)n.push(e);if(m.width<768){s=`${v(n)}`}else{s=`${v(n)} ${o} ${l}`}}else if(e>=5&&e<=t-4){i=e+2;for(let t=e-2;t<=i;t+=1)n.push(t);if(m.width<768){s=`${v(n)}`}else{s=`${a} ${o} ${v(n)} ${o} ${l}`}}else if(e>t-4){for(let e=t-4;e<=t;e+=1)n.push(e);if(m.width<768){s=`${v(n)}`}else{s=`${a} ${o} ${v(n)}`}}u.innerHTML=s}function y(e){[...document.querySelectorAll(".pagination-button")].find((t=>{t.classList.contains("active")&&t.classList.remove("active"),Number(t.textContent)===e&&t.classList.add("active")}))}function L(e){if("BUTTON"===e.target.nodeName&&e.target.textContent){const t=Number(e.target.textContent);(0,c.clearMarkup)(d),o(t).then((({results:e,total_pages:n})=>{r(e),(0,c.clearMarkup)(u),b(t,n),g(t),y(t)})).catch((e=>console.log(e)))}}const $=document.querySelector(".pagination-list");!function(){document.body.style.overflow="hidden";o().then((({results:e,total_pages:t})=>{r(e),b(1,t),g(1,t),y(1)})).catch((e=>console.log(e))),$.addEventListener("click",L);const e=document.querySelector(".arrow-left"),t=document.querySelector(".arrow-right");e.classList.remove("is-hidden"),t.classList.remove("is-hidden"),e.addEventListener("click",f),t.addEventListener("click",h),window.onload=e=>{setTimeout((()=>{document.querySelector(".loader-wrapper").classList.add("turn-off")}),250)},document.body.style.overflow="visible"}(),s("jxehG"),s("e2fFv"),s("hfwlf"),s("2UGQT"),s("5Gpz0"),s("jD5nR"),s("cCskP"),s("an6E8");i=s("5KeTa"),c=s("9WIO2"),a=s("e2fFv");var w=s("2UGQT"),k=s("5Gpz0");const S=document.querySelector(".movie-list"),q=document.querySelector(".pagination-list"),_=document.querySelector(".results-list"),E=document.querySelector(".error-message"),T=document.querySelector(".form");T.addEventListener("submit",(function(e){e.preventDefault();const t=e.currentTarget.elements.searchQuery.value.trim().toLowerCase();A(t).then((({results:e,total_pages:t})=>{_.classList.add("is-hidden"),T.classList.remove("input-change"),r(e),b(1,t),g(1),y(1)})).catch((e=>console.log(e))),q.addEventListener("click",(e=>{if("BUTTON"===e.target.nodeName&&e.target.textContent){const n=Number(e.target.textContent);(0,c.clearMarkup)(S),A(t,n).then((({results:e,total_pages:t})=>{r(e),(0,c.clearMarkup)(q),b(n,t),g(n,t),y(n)})).catch((e=>console.log(e)))}}));const n=document.querySelector(".arrow-left"),s=document.querySelector(".arrow-right");n.classList.remove("is-hidden"),s.classList.remove("is-hidden"),n.removeEventListener("click",f),n.addEventListener("click",(()=>{[...document.querySelectorAll(".pagination-button")].find((e=>{if(e.classList.contains("active")){const n=Number(e.textContent)-1;A(t,n).then((({results:e,total_pages:t})=>{r(e),(0,c.clearMarkup)(q),b(n,t),g(n,t),y(n)})).catch((e=>console.log(e)))}}))})),s.removeEventListener("click",h),s.addEventListener("click",(()=>{[...document.querySelectorAll(".pagination-button")].find((e=>{if(e.classList.contains("active")){const n=Number(e.textContent)+1;A(t,n).then((({results:e,total_pages:t})=>{r(e),(0,c.clearMarkup)(q),b(n,t),g(n,t),y(n)})).catch((e=>console.log(e)))}}))})),T.reset()}));async function A(e,t=1){const n=await fetch(`${i.BASE_URL}/search/movie?api_key=${i.API_KEY}&query=${e}&page=${t}`);if(!n.ok)throw new Error(n.status);return await n.json()}document.querySelector(".form-input").addEventListener("input",(function(e){const t=e.target.value.trim().toLowerCase();t?A(t).then((({results:e,total_results:t})=>{t?(E.classList.remove("is-shown"),T.classList.add("input-change"),_.classList.remove("is-hidden"),function(e){const t=e.map((({id:e,title:t})=>`<li class="results-item" data-id="${e}">\n          <span class="title">${t}</span>\n          <span class="delimeter">|</span>\n          <span class="year">2022</span>\n          <span class="vote">7.8</span>\n        </li>`)).join("");_.innerHTML=t}(e)):(E.classList.add("is-shown"),T.classList.remove("input-change"),_.classList.add("is-hidden"))})).catch((e=>console.log(e))):(T.classList.remove("input-change"),_.classList.add("is-hidden"))})),_.addEventListener("click",(function(e){if(!e.target.closest("li"))return;if(e.target.closest("li")){const t=e.target.closest("li").dataset.id;(0,w.fetchMovieDetails)(t).then((e=>function({id:e,poster_path:t,title:n,genres:s,release_date:i}){const o=`<li class="movie-list__item" data-id="${e}">\n            <img class="movie-image" ${(0,a.checkImageSrc)(t)} alt="Movie poster" loading="lazy" />\n            <div class="movie-descr">\n              <h2 class="movie-title">${n||"Unknown"}</h2>\n              <p class="movie-info"><span class="genre">${(0,k.checkGenres)(s)||"No information"} |</span><span>${(0,a.getFullYear)(i)||"No information"}</span></p>\n            </div>\n        </li>`;S.innerHTML=o}(e))).catch((e=>console.log(e))),T.classList.remove("input-change"),_.classList.add("is-hidden"),T.reset(),(0,c.clearMarkup)(q),b(1,1),g(1,1),y(1);const n=document.querySelector(".arrow-left"),s=document.querySelector(".arrow-right");n.classList.remove("is-hidden"),s.classList.remove("is-hidden"),n.disabled=!0,s.disabled=!0}})),s("azhP0");
//# sourceMappingURL=index.a6bf0096.js.map
