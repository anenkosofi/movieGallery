!function(){function t(t){return t&&t.__esModule?t.default:t}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},a={},r=e.parcelRequired7c6;null==r&&((r=function(t){if(t in n)return n[t].exports;if(t in a){var e=a[t];delete a[t];var r={id:t,exports:{}};return n[t]=r,e.call(r.exports,r,r.exports),r.exports}var o=new Error("Cannot find module '"+t+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(t,e){a[t]=e},e.parcelRequired7c6=r),r("kgI7q");var o=r("bpxeT"),i=r("2TvXO"),c=r("kgI7q");function s(){return l.apply(this,arguments)}function l(){return l=t(o)(t(i).mark((function e(){var n,a,r=arguments;return t(i).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.length>0&&void 0!==r[0]?r[0]:1,t.next=3,fetch("".concat(c.BASE_URL,"/trending/movie/day?api_key=").concat(c.API_KEY,"&page=").concat(n));case 3:if((a=t.sent).ok){t.next=6;break}throw new Error(a.status);case 6:return t.next=8,a.json();case 8:return t.abrupt("return",t.sent);case 9:case"end":return t.stop()}}),e)}))),l.apply(this,arguments)}var u=r("bELoF"),d=document.querySelector(".movie-list");function v(t){var e=t.map((function(t){var e=t.id,n=t.poster_path,a=t.title,r=t.genre_ids,o=t.release_date;return'<li class="movie-list__item" data-id="'.concat(e,'">\n            <img class="movie-image" ').concat((0,u.checkImageSrc)(n),' alt="Movie poster" loading="lazy" />\n            <div class="movie-descr">\n              <h2 class="movie-title">').concat((0,u.checkTitle)(a),'</h2>\n              <p class="movie-info"><span class="genre">').concat((0,u.genresIdConverter)(r)," |</span><span>").concat((0,u.getFullYear)(o),"</span></p>\n            </div>\n        </li>")})).join("");d.innerHTML=e}var f=r("8nrFW"),p=r("1VCXc"),m=document.querySelector(".movie-list"),h=document.querySelector(".pagination-list"),g=document.querySelector(".pagination"),b=document.querySelector("body").getBoundingClientRect();function y(){var e=document.querySelectorAll(".pagination-button");t(f)(e).map((function(t){if(t.classList.contains("active")){var e=Number(t.textContent)-1;s(e).then((function(t){var n=t.results,a=t.total_pages;v(n),(0,p.clearMarkup)(h),q(e,a),w(e,a),S(e)})).catch((function(t){return console.log(t)}))}}))}function L(){var e=document.querySelectorAll(".pagination-button");t(f)(e).map((function(t){if(t.classList.contains("active")){var e=Number(t.textContent)+1;s(e).then((function(t){var n=t.results,a=t.total_pages;v(n),(0,p.clearMarkup)(h),q(e,a),w(e,a),S(e)})).catch((function(t){return console.log(t)}))}}))}function w(t,e){var n=g.firstElementChild,a=g.lastElementChild;1===t?(n.disabled="true",a.hasAttribute("disabled")&&a.removeAttribute("disabled")):t===e?(a.disabled="true",n.hasAttribute("disabled")&&n.removeAttribute("disabled")):(n.hasAttribute("disabled")&&n.removeAttribute("disabled"),a.hasAttribute("disabled")&&a.removeAttribute("disabled"))}function k(t){return t.map((function(t){return'<li class="pagination-item">\n          <button class="pagination-button" type="button">'.concat(t,"</button>\n        </li>")})).join("")}function q(t,e){var n=[],a="",r=0,o='<li class="pagination-item"><button class="pagination-button" type="button" disabled>...</button></li>',i='<li class="pagination-item"><button class="pagination-button" type="button">1</button></li>',c='<li class="pagination-item"><button class="pagination-button" type="button">'.concat(e,"</button></li>");if(e<=6)if(b.width<768){if(6===e){if(t>=1&&t<=3){r=5;for(var s=1;s<=r;s+=1)n.push(s)}else if(t>=4&&t<=6){r=5;for(var l=2;l<=r;l+=1)n.push(l)}var u=k(n);a="".concat(u)}else if(e<=5){for(var d=1;d<=e;d+=1)n.push(d);var v=k(n);a="".concat(v)}}else{for(var f=1;f<=e;f+=1)n.push(f);var p=k(n);a="".concat(p)}else if(e>6)if(t>=1&&t<=4){r=5;for(var m=1;m<=r;m+=1)n.push(m);if(b.width<768){var g=k(n);a="".concat(g)}else{var y=k(n);a="".concat(y," ").concat(o," ").concat(c)}}else if(t>=5&&t<=e-4){r=t+2;for(var L=t-2;L<=r;L+=1)n.push(L);if(b.width<768){var w=k(n);a="".concat(w)}else{var q=k(n);a="".concat(i," ").concat(o," ").concat(q," ").concat(o," ").concat(c)}}else if(t>e-4){for(var S=e-4;S<=e;S+=1)n.push(S);if(b.width<768){var _=k(n);a="".concat(_)}else{var x=k(n);a="".concat(i," ").concat(o," ").concat(x)}}h.innerHTML=a}function S(e){var n=document.querySelectorAll(".pagination-button");t(f)(n).find((function(t){t.classList.contains("active")&&t.classList.remove("active"),Number(t.textContent)===e&&t.classList.add("active")}))}function _(t){if("BUTTON"===t.target.nodeName&&t.target.textContent){var e=Number(t.target.textContent);(0,p.clearMarkup)(m),s(e).then((function(t){var n=t.results,a=t.total_pages;v(n),(0,p.clearMarkup)(h),q(e,a),w(e),S(e)})).catch((function(t){return console.log(t)}))}}var x=document.querySelector(".pagination-list");!function(){document.body.style.overflow="hidden";s().then((function(t){var e=t.results,n=t.total_pages;v(e),q(1,n),w(1,n),S(1)})).catch((function(t){return console.log(t)})),x.addEventListener("click",_);var t=document.querySelector(".arrow-left"),e=document.querySelector(".arrow-right");t.classList.remove("is-hidden"),e.classList.remove("is-hidden"),t.addEventListener("click",y),e.addEventListener("click",L),window.onload=function(t){setTimeout((function(){document.querySelector(".loader-wrapper").classList.add("turn-off")}),250)},document.body.style.overflow="visible"}(),r("e9OUR"),r("bELoF"),r("6Hzcf"),r("aZweA"),r("aXvIb"),r("7FCPQ"),r("bmUS0"),r("cfdYy");o=r("bpxeT"),f=r("8nrFW"),i=r("2TvXO"),c=r("kgI7q"),p=r("1VCXc"),u=r("bELoF");var E=r("aZweA"),A=r("aXvIb"),C=document.querySelector(".movie-list"),M=document.querySelector(".pagination-list"),T=document.querySelector(".results-list"),N=document.querySelector(".error-message"),I=document.querySelector(".form");function F(t){return U.apply(this,arguments)}function U(){return U=t(o)(t(i).mark((function e(n){var a,r,o=arguments;return t(i).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=o.length>1&&void 0!==o[1]?o[1]:1,t.next=3,fetch("".concat(c.BASE_URL,"/search/movie?api_key=").concat(c.API_KEY,"&query=").concat(n,"&page=").concat(a));case 3:if((r=t.sent).ok){t.next=6;break}throw new Error(r.status);case 6:return t.next=8,r.json();case 8:return t.abrupt("return",t.sent);case 9:case"end":return t.stop()}}),e)}))),U.apply(this,arguments)}I.addEventListener("submit",(function(e){e.preventDefault();var n=e.currentTarget.elements.searchQuery.value.trim().toLowerCase();F(n).then((function(t){var e=t.results,n=t.total_pages;T.classList.add("is-hidden"),I.classList.remove("input-change"),v(e),q(1,n),w(1),S(1)})).catch((function(t){return console.log(t)})),M.addEventListener("click",(function(t){if("BUTTON"===t.target.nodeName&&t.target.textContent){var e=Number(t.target.textContent);(0,p.clearMarkup)(C),F(n,e).then((function(t){var n=t.results,a=t.total_pages;v(n),(0,p.clearMarkup)(M),q(e,a),w(e,a),S(e)})).catch((function(t){return console.log(t)}))}}));var a=document.querySelector(".arrow-left"),r=document.querySelector(".arrow-right");a.classList.remove("is-hidden"),r.classList.remove("is-hidden"),a.removeEventListener("click",y),a.addEventListener("click",(function(){var e=document.querySelectorAll(".pagination-button");t(f)(e).find((function(t){if(t.classList.contains("active")){var e=Number(t.textContent)-1;F(n,e).then((function(t){var n=t.results,a=t.total_pages;v(n),(0,p.clearMarkup)(M),q(e,a),w(e,a),S(e)})).catch((function(t){return console.log(t)}))}}))})),r.removeEventListener("click",L),r.addEventListener("click",(function(){var e=document.querySelectorAll(".pagination-button");t(f)(e).find((function(t){if(t.classList.contains("active")){var e=Number(t.textContent)+1;F(n,e).then((function(t){var n=t.results,a=t.total_pages;v(n),(0,p.clearMarkup)(M),q(e,a),w(e,a),S(e)})).catch((function(t){return console.log(t)}))}}))})),I.reset()})),document.querySelector(".form-input").addEventListener("input",(function(t){var e=t.target.value.trim().toLowerCase();e?F(e).then((function(t){var e=t.results;t.total_results?(N.classList.remove("is-shown"),I.classList.add("input-change"),T.classList.remove("is-hidden"),function(t){var e=t.map((function(t){var e=t.id,n=t.title;return'<li class="results-item" data-id="'.concat(e,'">\n          <span class="title">').concat(n,'</span>\n          <span class="delimeter">|</span>\n          <span class="year">2022</span>\n          <span class="vote">7.8</span>\n        </li>')})).join("");T.innerHTML=e}(e)):(N.classList.add("is-shown"),I.classList.remove("input-change"),T.classList.add("is-hidden"))})).catch((function(t){return console.log(t)})):(I.classList.remove("input-change"),T.classList.add("is-hidden"))})),T.addEventListener("click",(function(t){if(!t.target.closest("li"))return;if(t.target.closest("li")){var e=t.target.closest("li").dataset.id;(0,E.fetchMovieDetails)(e).then((function(t){return n=(e=t).id,a=e.poster_path,r=e.title,o=e.genres,i=e.release_date,c='<li class="movie-list__item" data-id="'.concat(n,'">\n            <img class="movie-image" ').concat((0,u.checkImageSrc)(a),' alt="Movie poster" loading="lazy" />\n            <div class="movie-descr">\n              <h2 class="movie-title">').concat(r||"Unknown",'</h2>\n              <p class="movie-info"><span class="genre">').concat((0,A.checkGenres)(o)||"No information"," |</span><span>").concat((0,u.getFullYear)(i)||"No information","</span></p>\n            </div>\n        </li>"),void(C.innerHTML=c);var e,n,a,r,o,i,c})).catch((function(t){return console.log(t)})),I.classList.remove("input-change"),T.classList.add("is-hidden"),I.reset(),(0,p.clearMarkup)(M),q(1,1),w(1,1),S(1);var n=document.querySelector(".arrow-left"),a=document.querySelector(".arrow-right");n.classList.remove("is-hidden"),a.classList.remove("is-hidden"),n.disabled=!0,a.disabled=!0}})),r("hJLVb")}();
//# sourceMappingURL=index.39fe4f07.js.map
