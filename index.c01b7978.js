!function(){function t(t){return t&&t.__esModule?t.default:t}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},a={},r=e.parcelRequired7c6;null==r&&((r=function(t){if(t in n)return n[t].exports;if(t in a){var e=a[t];delete a[t];var r={id:t,exports:{}};return n[t]=r,e.call(r.exports,r,r.exports),r.exports}var o=new Error("Cannot find module '"+t+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(t,e){a[t]=e},e.parcelRequired7c6=r),r("kgI7q");var o=r("bpxeT"),i=r("2TvXO"),c=r("kgI7q");function s(){return u.apply(this,arguments)}function u(){return u=t(o)(t(i).mark((function e(){var n,a,r=arguments;return t(i).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.length>0&&void 0!==r[0]?r[0]:1,t.next=3,fetch("".concat(c.BASE_URL,"/trending/movie/day?api_key=").concat(c.API_KEY,"&page=").concat(n));case 3:if((a=t.sent).ok){t.next=6;break}throw new Error(a.status);case 6:return t.next=8,a.json();case 8:return t.abrupt("return",t.sent);case 9:case"end":return t.stop()}}),e)}))),u.apply(this,arguments)}var l=r("bELoF"),d=document.querySelector(".movie-list");function p(t){var e=t.map((function(t){var e=t.id,n=t.poster_path,a=t.title,r=t.genre_ids,o=t.release_date;return'<li class="movie-list__item" data-id="'.concat(e,'">\n            <img class="movie-image" ').concat((0,l.checkImageSrc)(n),' alt="Movie poster" loading="lazy" />\n            <div class="movie-descr">\n              <h2 class="movie-title">').concat(a||"Unknown",'</h2>\n              <p class="movie-info"><span class="genre">').concat((0,l.genresIdConverter)(r)||"No information"," |</span><span>").concat((0,l.getFullYear)(o)||"No information","</span></p>\n            </div>\n        </li>")})).join("");d.innerHTML=e}var f=r("8nrFW"),v=r("1VCXc"),m=document.querySelector(".movie-list"),h=document.querySelector(".pagination-list"),g=document.querySelector(".pagination"),b=document.querySelector("body").getBoundingClientRect();function y(){var e=document.querySelectorAll(".pagination-button");t(f)(e).map((function(t){if(t.classList.contains("active")){var e=Number(t.textContent)-1;s(e).then((function(t){p(t.results)})).catch((function(t){return console.log(t)})),(0,v.clearMarkup)(h),q(e),w(e),S(e)}}))}function L(){var e=document.querySelectorAll(".pagination-button");t(f)(e).map((function(t){if(t.classList.contains("active")){var e=Number(t.textContent)+1;s(e).then((function(t){p(t.results)})).catch((function(t){return console.log(t)})),(0,v.clearMarkup)(h),q(e),w(e),S(e)}}))}function w(t){var e=g.firstElementChild,n=g.lastElementChild;1===t?(e.disabled="true",n.hasAttribute("disabled")&&n.removeAttribute("disabled")):20===t?(n.disabled="true",e.hasAttribute("disabled")&&e.removeAttribute("disabled")):(e.hasAttribute("disabled")&&e.removeAttribute("disabled"),n.hasAttribute("disabled")&&n.removeAttribute("disabled"))}function k(t){return t.map((function(t){return'<li class="pagination-item">\n          <button class="pagination-button" type="button">'.concat(t,"</button>\n        </li>")})).join("")}function q(t){var e=[],n="",a=0,r='<li class="pagination-item"><button class="pagination-button" type="button" disabled>...</button></li>',o='<li class="pagination-item"><button class="pagination-button" type="button">1</button></li>',i='<li class="pagination-item"><button class="pagination-button" type="button">20</button></li>';if(t>=1&&t<=3){a=5;for(var c=1;c<=a;c+=1)e.push(c);if(b.width<768){var s=k(e);n="".concat(s)}else{var u=k(e);n="".concat(u," ").concat(r," ").concat(i)}}else if(t>3&&t<18){a=t+2;for(var l=t-2;l<=a;l+=1)e.push(l);if(b.width<768){var d=k(e);n="".concat(d)}else{var p=k(e);n="".concat(o," ").concat(r," ").concat(p," ").concat(r," ").concat(i)}}else if(t>=18){for(var f=16;f<=20;f+=1)e.push(f);if(b.width<768){var v=k(e);n="".concat(v)}else{var m=k(e);n="".concat(o," ").concat(r," ").concat(m)}}h.innerHTML=n}function S(e){var n=document.querySelectorAll(".pagination-button");t(f)(n).map((function(t){t.classList.contains("active")&&t.classList.remove("active"),Number(t.textContent)===e&&t.classList.add("active")}))}function x(t){if("BUTTON"===t.target.nodeName&&t.target.textContent){var e=Number(t.target.textContent);(0,v.clearMarkup)(m),s(e).then((function(t){p(t.results)})).catch((function(t){return console.log(t)})),(0,v.clearMarkup)(h),q(e),w(e),S(e)}}var _=document.querySelector(".pagination-list");!function(){document.body.style.overflow="hidden";s().then((function(t){return p(t.results)})).catch((function(t){return console.log(t)})),q(1),w(1),S(1),_.addEventListener("click",x);var t=document.querySelector(".arrow-left"),e=document.querySelector(".arrow-right");t.classList.remove("is-hidden"),e.classList.remove("is-hidden"),t.addEventListener("click",y),e.addEventListener("click",L),window.onload=function(t){setTimeout((function(){document.querySelector(".loader-wrapper").classList.add("turn-off")}),100)},document.body.style.overflow="visible"}(),r("e9OUR"),r("bELoF"),r("6Hzcf"),r("aZweA"),r("aXvIb"),r("7FCPQ"),r("bmUS0"),r("cfdYy");o=r("bpxeT"),i=r("2TvXO"),c=r("kgI7q"),v=r("1VCXc"),l=r("bELoF");var E=r("aZweA"),A=r("aXvIb"),T=document.querySelector(".movie-list"),C=document.querySelector(".pagination-list"),M=document.querySelector(".results-list"),I=document.querySelector(".error-message"),N=document.querySelector(".form");function U(t){return F.apply(this,arguments)}function F(){return(F=t(o)(t(i).mark((function e(n){var a;return t(i).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(c.BASE_URL,"/search/movie?api_key=").concat(c.API_KEY,"&query=").concat(n));case 2:if((a=t.sent).ok){t.next=5;break}throw new Error(a.status);case 5:return t.next=7,a.json();case 7:return t.abrupt("return",t.sent);case 8:case"end":return t.stop()}}),e)})))).apply(this,arguments)}N.addEventListener("submit",(function(t){t.preventDefault(),U(t.currentTarget.elements.searchQuery.value.trim().toLowerCase()).then((function(t){var e=t.results;M.classList.add("is-hidden"),N.classList.remove("input-change"),p(e)})).catch((function(t){return console.log(t)}));var e=document.querySelector(".arrow-left"),n=document.querySelector(".arrow-right");e.classList.add("is-hidden"),n.classList.add("is-hidden"),(0,v.clearMarkup)(C),N.reset()})),document.querySelector(".form-input").addEventListener("input",(function(t){var e=t.target.value.trim().toLowerCase();e?U(e).then((function(t){var e=t.results;t.total_results?(I.classList.remove("is-shown"),N.classList.add("input-change"),M.classList.remove("is-hidden"),function(t){var e=t.map((function(t){var e=t.id,n=t.title;return'<li class="results-item" data-id="'.concat(e,'">\n          <span class="title">').concat(n,'</span>\n          <span class="delimeter">|</span>\n          <span class="year">2022</span>\n          <span class="vote">7.8</span>\n        </li>')})).join("");M.innerHTML=e}(e)):(I.classList.add("is-shown"),N.classList.remove("input-change"),M.classList.add("is-hidden"))})).catch((function(t){return console.log(t)})):(N.classList.remove("input-change"),M.classList.add("is-hidden"));var n=document.querySelector(".arrow-left"),a=document.querySelector(".arrow-right");n.classList.add("is-hidden"),a.classList.add("is-hidden"),(0,v.clearMarkup)(C)})),M.addEventListener("click",(function(t){if(!t.target.closest("li"))return;if(t.target.closest("li")){var e=t.target.closest("li").dataset.id;(0,E.fetchMovieDetails)(e).then((function(t){return n=(e=t).id,a=e.poster_path,r=e.title,o=e.genres,i=e.release_date,c='<li class="movie-list__item" data-id="'.concat(n,'">\n            <img class="movie-image" ').concat((0,l.checkImageSrc)(a),' alt="Movie poster" loading="lazy" />\n            <div class="movie-descr">\n              <h2 class="movie-title">').concat(r||"Unknown",'</h2>\n              <p class="movie-info"><span class="genre">').concat((0,A.checkGenres)(o)||"No information"," |</span><span>").concat((0,l.getFullYear)(i)||"No information","</span></p>\n            </div>\n        </li>"),void(T.innerHTML=c);var e,n,a,r,o,i,c})).catch((function(t){return console.log(t)})),N.classList.remove("input-change"),M.classList.add("is-hidden"),N.reset()}}));o=r("bpxeT"),i=r("2TvXO"),c=r("kgI7q");function O(){return(O=t(o)(t(i).mark((function e(){var n;return t(i).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(c.BASE_URL,"/movie/555604/videos?api_key=").concat(c.API_KEY));case 2:if((n=t.sent).ok){t.next=5;break}throw new Error(n.status);case 5:return t.next=7,n.json();case 7:return t.abrupt("return",t.sent);case 8:case"end":return t.stop()}}),e)})))).apply(this,arguments)}(function(){return O.apply(this,arguments)})().then((function(t){var e=t.results.find((function(t){return"Trailer"===t.type})).key;console.log(e)})).catch((function(t){return console.log(t)}))}();
//# sourceMappingURL=index.c01b7978.js.map
