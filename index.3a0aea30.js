const t=document.querySelector(".movie-list"),e=document.querySelector(".pagination-list");let n=1;async function i(){const t=await fetch(`https://api.themoviedb.org/3/trending/movie/day?api_key=bfcd7a06a5bb09fb5aafe756d2f60f73&page=${n}`);if(!t.ok)throw new Error(t.status);return await t.json()}i().then((({results:t})=>{var i;o(t),function(t){let n=[],i="",a=0;const o='<li class="pagination-item"><button class="pagination-button" type="button">...</button></li>';if(1===t){a=4;for(let e=t;e<=a;e+=1)n.push(e);i=`${s(n)} ${o}`}if(t>1&&t<17){a=t+3;for(let e=t;e<=a;e+=1)n.push(e);i=`${o} ${s(n)} ${o}`}if(t>=17){for(let e=t;e<=20;e+=1)n.push(e);i=`${o} ${s(n)}`}e.firstElementChild.insertAdjacentHTML("afterend",i)}(n),i=n,[...document.querySelectorAll(".pagination-button")].map((t=>{t.textContent==i&&t.classList.add("active")}))})).catch((t=>console.log(t))),e.addEventListener("click",(function(t){if("BUTTON"!==t.target.nodeName)return;t.target.textContent&&(n=t.target.textContent,i().then((({results:t})=>{o(t)})).catch((t=>console.log(t))))}));const a={12:"Adventure",14:"Fantasy",16:"Animation",18:"Drama",27:"Horror",28:"Action",35:"Comedy",36:"History",37:"Western",53:"Thriller",80:"Crime",99:"Documentary",878:"Science Fiction",9648:"Mystery",10402:"Music",10749:"Romance",10751:"Family",10752:"War",10770:"TV Movie"};function o(e){const n=e.map((({poster_path:t,title:e,genre_ids:n,release_date:i})=>{return`<li class="movie-list__item">\n          <a class="movie-link" href="" data-modal-open>\n            <img class="movie-image" src="https://image.tmdb.org/t/p/w500${t}" alt="" width="375" />\n            <div class="movie-descr">\n              <h2 class="movie-title">${e}</h2>\n              <p class="movie-info">${s=n,s.map((t=>a[t])).slice(0,2).join(", ")} | ${o=i,year=new Date(o).getFullYear()}</p>\n            </div>\n          </a>\n        </li>`;var o,s})).join("");t.innerHTML=n}function s(t){return markup=t.map((t=>`<li class="pagination-item">\n          <button class="pagination-button" type="button">${t}</button>\n        </li>`)).join("")}
//# sourceMappingURL=index.3a0aea30.js.map
