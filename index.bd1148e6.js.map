{"mappings":"oeAAAA,EAAA,SCAA,IAAAC,EAAAD,EAAA,SAEOE,eAAeC,EAAYC,EAAO,GACvC,MAAMC,QAAiBC,MACrB,GAAGL,EAAAM,uCAAuCN,EAAAO,gBAAgBJ,KAE5D,IAAKC,EAASI,GACZ,MAAM,IAAIC,MAAML,EAASM,QAE3B,aAAaN,EAASO,M,CCTxB,IAAAC,EAAAb,EAAA,SAOA,MAAMc,EAAYC,SAASC,cAAc,eAElC,SAASC,EAAgBC,GAC9B,MAAMC,EAASD,EACZE,KACC,EAACC,GAAEA,EAAEC,YAAEA,EAAWC,MAAEA,EAAKC,UAAEA,EAASC,aAAEA,KACpC,yCAAyCJ,8CACV,EAAAR,EAAAa,eACzBJ,0HAG0B,EAAAT,EAAAc,YAAWJ,qEACO,EAAAV,EAAAe,mBAC1CJ,qBACiB,EAAAX,EAAAgB,aAAYJ,qDAIxCK,KAAK,IACRhB,EAAUiB,UAAYZ,C,kBCtBxB,MAAMa,EAAYjB,SAASC,cAAc,eACnCiB,EAAiBlB,SAASC,cAAc,oBACxCkB,EAAsBnB,SAASC,cAAc,eAC7CmB,EAAWpB,SAASC,cAAc,QAAQoB,wBAEhD,SAASC,IAEP,IADgBtB,SAASuB,iBAAiB,uBAC7BlB,KAAImB,IACf,GAAIA,EAAOC,UAAUC,SAAS,UAAW,CACvC,MACMC,EADoBC,OAAOJ,EAAOK,aACM,EAC9CzC,EAAYuC,GACTG,MAAK,EAACC,QAAEA,EAAOC,YAAEA,MAChB9B,EAAgB6B,GAChB,MAAQE,OAAQC,GAAelC,SAC5BC,cAAc,eACdkC,kBAAkBd,wBACrBe,OAAOC,SAAS,CACdC,IAAmB,GAAbJ,EACNK,SAAU,YAEZ,EAAAC,EAAAC,aAAYvB,GACZwB,EAAef,EAAmBK,GAClCW,EAAmBhB,EAAmBK,GACtCY,EAAiBjB,EAAkB,IAEpCkB,OAAMC,GAASC,QAAQC,IAAIF,I,KAKpC,SAASG,IAEP,IADgBjD,SAASuB,iBAAiB,uBAC7BlB,KAAImB,IACf,GAAIA,EAAOC,UAAUC,SAAS,UAAW,CACvC,MACMC,EADoBC,OAAOJ,EAAOK,aACM,EAC9CzC,EAAYuC,GACTG,MAAK,EAACC,QAAEA,EAAOC,YAAEA,MAChB9B,EAAgB6B,GAChB,MAAQE,OAAQC,GAAelC,SAC5BC,cAAc,eACdkC,kBAAkBd,wBACrBe,OAAOC,SAAS,CACdC,IAAmB,GAAbJ,EACNK,SAAU,YAEZ,EAAAC,EAAAC,aAAYvB,GACZwB,EAAef,EAAmBK,GAClCW,EAAmBhB,EAAmBK,GACtCY,EAAiBjB,EAAkB,IAEpCkB,OAAMC,GAASC,QAAQC,IAAIF,I,KAKpC,SAASH,EAAmBO,EAAYC,GACtC,MAAMC,EAAajC,EAAoBgB,kBACjCkB,EAAYlC,EAAoBmC,iBACnB,IAAfJ,GACFE,EAAWG,SAAW,OAClBF,EAAUG,aAAa,aACzBH,EAAUI,gBAAgB,aAEnBP,IAAeC,GACxBE,EAAUE,SAAW,OACjBH,EAAWI,aAAa,aAC1BJ,EAAWK,gBAAgB,cAGzBL,EAAWI,aAAa,aAC1BJ,EAAWK,gBAAgB,YAEzBJ,EAAUG,aAAa,aACzBH,EAAUI,gBAAgB,Y,CAKhC,SAASC,EAAaC,GAUpB,OATeA,EACZtD,KACC6C,GACE,2FACoDA,8BAGvDnC,KAAK,G,CAKV,SAAS2B,EAAekB,EAAmBT,GACzC,IAAIU,EAAc,GACdC,EAAmB,GACnBC,EAAkB,EAEtB,MAAMC,EACJ,yGACIC,EACJ,8FAEIC,EAAa,+EAA+Ef,kBAElG,GAAIA,GAAkB,EACpB,GAAI/B,EAAS+C,MAAQ,KACnB,GAAuB,IAAnBhB,EAAsB,CACxB,GAAIS,GAAqB,GAAKA,GAAqB,EAAG,CACpDG,EAAkB,EAClB,IAAK,IAAIK,EAAI,EAAGA,GAAKL,EAAiBK,GAAK,EACzCP,EAAYQ,KAAKD,E,MAEd,GAAIR,GAAqB,GAAKA,GAAqB,EAAG,CAC3DG,EAAkB,EAClB,IAAK,IAAIK,EAAI,EAAGA,GAAKL,EAAiBK,GAAK,EACzCP,EAAYQ,KAAKD,E,CAIrBN,EAAmB,GADJJ,EAAaG,I,MAEvB,GAAIV,GAAkB,EAAG,CAC9B,IAAK,IAAIiB,EAAI,EAAGA,GAAKjB,EAAgBiB,GAAK,EACxCP,EAAYQ,KAAKD,GAGnBN,EAAmB,GADJJ,EAAaG,I,MAGzB,CACL,IAAK,IAAIO,EAAI,EAAGA,GAAKjB,EAAgBiB,GAAK,EACxCP,EAAYQ,KAAKD,GAGnBN,EAAmB,GADJJ,EAAaG,I,MAGzB,GAAIV,EAAiB,EAC1B,GAAIS,GAAqB,GAAKA,GAAqB,EAAG,CACpDG,EAAkB,EAClB,IAAK,IAAIK,EAAI,EAAGA,GAAKL,EAAiBK,GAAK,EACzCP,EAAYQ,KAAKD,GAEnB,GAAIhD,EAAS+C,MAAQ,IAAK,CAExBL,EAAmB,GADJJ,EAAaG,I,KAEvB,CAELC,EAAmB,GADJJ,EAAaG,MACIG,KAAQE,G,OAErC,GACLN,GAAqB,GACrBA,GAAqBT,EAAiB,EACtC,CACAY,EAAkBH,EAAoB,EAEtC,IAAK,IAAIQ,EADWR,EAAoB,EACdQ,GAAKL,EAAiBK,GAAK,EACnDP,EAAYQ,KAAKD,GAEnB,GAAIhD,EAAS+C,MAAQ,IAAK,CAExBL,EAAmB,GADJJ,EAAaG,I,KAEvB,CAELC,EAAmB,GAAGG,KAAeD,KADtBN,EAAaG,MAC2BG,KAAQE,G,OAE5D,GAAIN,EAAoBT,EAAiB,EAAG,CACjD,IAAK,IAAIiB,EAAIjB,EAAiB,EAAGiB,GAAKjB,EAAgBiB,GAAK,EACzDP,EAAYQ,KAAKD,GAEnB,GAAIhD,EAAS+C,MAAQ,IAAK,CAExBL,EAAmB,GADJJ,EAAaG,I,KAEvB,CAELC,EAAmB,GAAGG,KAAeD,KADtBN,EAAaG,I,EAKlC3C,EAAeF,UAAY8C,C,CAG7B,SAASlB,EAAiB0B,GAExB,IADgBtE,SAASuB,iBAAiB,uBAC7BgD,MAAK/C,IACZA,EAAOC,UAAUC,SAAS,WAC5BF,EAAOC,UAAU+C,OAAO,UAEtB5C,OAAOJ,EAAOK,eAAiByC,GACjC9C,EAAOC,UAAUgD,IAAI,SAAS,G,CAKpC,SAASC,EAAcC,GACrB,GAA0B,WAAtBA,EAAEC,OAAOC,UAGTF,EAAEC,OAAO/C,YAAa,CACxB,MAAMqB,EAAatB,OAAO+C,EAAEC,OAAO/C,cACnC,EAAAW,EAAAC,aAAYxB,GACZ7B,EAAY8D,GACTpB,MAAK,EAACC,QAAEA,EAAOC,YAAEA,MAChB9B,EAAgB6B,GAChB,MAAQE,OAAQC,GAAelC,SAC5BC,cAAc,eACdkC,kBAAkBd,wBACrBe,OAAOC,SAAS,CACdC,IAAmB,GAAbJ,EACNK,SAAU,YAEZ,EAAAC,EAAAC,aAAYvB,GACZwB,EAAeQ,EAAYlB,GAC3BW,EAAmBO,GACnBN,EAAiBM,EAAW,IAE7BL,OAAMC,GAASC,QAAQC,IAAIF,I,EC/MlC,MAAMgC,EAAiB9E,SAASC,cAAc,qBAI9C,WACED,SAAS+E,KAAKC,MAAMC,SAAW,SAI/B7F,IACG0C,MAAK,EAACC,QAAEA,EAAOC,YAAEA,MAChB9B,EAAgB6B,GAChBW,EALa,EAKcV,GAC3BW,EANa,EAMkBX,GAC/BY,EAPa,EAOe,IAE7BC,OAAMC,GAASC,QAAQC,IAAIF,KAE9BgC,EAAeI,iBAAiB,QAASR,GACzC,MAAMS,EAAiBnF,SAASC,cAAc,eACxCmF,EAAgBpF,SAASC,cAAc,gBAC7CkF,EAAe1D,UAAU+C,OAAO,aAChCY,EAAc3D,UAAU+C,OAAO,aAC/BW,EAAeD,iBAAiB,QAAS5D,GACzC8D,EAAcF,iBAAiB,QAASjC,GAExCb,OAAOiD,OAASV,IACdW,YAAW,KACTtF,SAASC,cAAc,mBAAmBwB,UAAUgD,IAAI,WAAW,GAClE,IAAI,EAETzE,SAAS+E,KAAKC,MAAMC,SAAW,S,CA7BjCM,G,wFCbArG,EAAAD,EAAA,S,0BAAA,I,0BAeA,MAAMuG,EAAYxF,SAASC,cAAc,eAEnCwF,EAAiBzF,SAASC,cAAc,oBACxCyF,EAAa1F,SAASC,cAAc,iBACpC0F,EAAQ3F,SAASC,cAAc,kBAE/B2F,EAAO5F,SAASC,cAAc,SACpC2F,EAAKV,iBAAiB,UAiBtB,SAAuBW,GACrBA,EAAEC,iBAEF,MAAMC,EAAcF,EAAEG,cAAcC,SAASF,YAAYG,MACtDC,OACAC,cACH,IAAKL,EACH,OACK,CACL,IAAIM,EAAa,EACjBC,EAAwBP,GACrBjE,MAAK,EAACC,QAAEA,EAAOwE,cAAEA,EAAavE,YAAEA,MAC1BuE,GAIHb,EAAWjE,UAAUgD,IAAI,aACzBmB,EAAKnE,UAAU+C,OAAO,gBACtBtE,EAAgB6B,GAChBW,EAAe2D,EAAYrE,GAC3BW,EAAmB0D,GACnBzD,EAAiByD,IARjBV,EAAMlE,UAAU+C,OAAO,W,IAW1B3B,OAAM2D,GAASzD,QAAQC,IAAIwD,KAE9Bf,EAAeP,iBAAiB,SAASP,IACvC,GAA0B,WAAtBA,EAAEC,OAAOC,UAGTF,EAAEC,OAAO/C,YAAa,CACxB,MAAMqB,EAAatB,OAAO+C,EAAEC,OAAO/C,cACnC,EAAAW,EAAAC,aAAY+C,GACZc,EAAwBP,EAAa7C,GAClCpB,MAAK,EAACC,QAAEA,EAAOC,YAAEA,MAChB9B,EAAgB6B,GAChB,MAAQE,OAAQC,GAAelC,SAC5BC,cAAc,eACdkC,kBAAkBd,wBACrBe,OAAOC,SAAS,CACdC,IAAmB,GAAbJ,EACNK,SAAU,YAEZ,EAAAC,EAAAC,aAAYgD,GACZ/C,EAAeQ,EAAYlB,GAC3BW,EAAmBO,EAAYlB,GAC/BY,EAAiBM,EAAW,IAE7BL,OAAM4D,GAAS1D,QAAQC,IAAIyD,I,KAIlC,MAAMtB,EAAiBnF,SAASC,cAAc,eACxCmF,EAAgBpF,SAASC,cAAc,gBAC7CkF,EAAe1D,UAAU+C,OAAO,aAChCY,EAAc3D,UAAU+C,OAAO,aAC/BW,EAAeuB,oBAAoB,QAASpF,GAC5C6D,EAAeD,iBAAiB,SAAS,KAEvC,IADgBlF,SAASuB,iBAAiB,uBAC7BgD,MAAK/C,IAChB,GAAIA,EAAOC,UAAUC,SAAS,UAAW,CACvC,MACMC,EADoBC,OAAOJ,EAAOK,aACM,EAC9CyE,EAAwBP,EAAapE,GAClCG,MAAK,EAACC,QAAEA,EAAOC,YAAEA,MAChB9B,EAAgB6B,GAChB,MAAQE,OAAQC,GAAelC,SAC5BC,cAAc,eACdkC,kBAAkBd,wBACrBe,OAAOC,SAAS,CACdC,IAAmB,GAAbJ,EACNK,SAAU,YAEZ,EAAAC,EAAAC,aAAYgD,GACZ/C,EAAef,EAAmBK,GAClCW,EAAmBhB,EAAmBK,GACtCY,EAAiBjB,EAAkB,IAEpCkB,OAAM8D,GAAS5D,QAAQC,IAAI2D,I,IAEhC,IAEJvB,EAAcsB,oBAAoB,QAASzD,GAC3CmC,EAAcF,iBAAiB,SAAS,KAEtC,IADgBlF,SAASuB,iBAAiB,uBAC7BgD,MAAK/C,IAChB,GAAIA,EAAOC,UAAUC,SAAS,UAAW,CACvC,MACMC,EADoBC,OAAOJ,EAAOK,aACM,EAC9CyE,EAAwBP,EAAapE,GAClCG,MAAK,EAACC,QAAEA,EAAOC,YAAEA,MAChB9B,EAAgB6B,GAChB,MAAQE,OAAQC,GAAelC,SAC5BC,cAAc,eACdkC,kBAAkBd,wBACrBe,OAAOC,SAAS,CACdC,IAAmB,GAAbJ,EACNK,SAAU,YAEZ,EAAAC,EAAAC,aAAYgD,GACZ/C,EAAef,EAAmBK,GAClCW,EAAmBhB,EAAmBK,GACtCY,EAAiBjB,EAAkB,IAEpCkB,OAAM+D,GAAS7D,QAAQC,IAAI4D,I,IAEhC,G,CAGNhB,EAAKiB,O,IAvHP1H,eAAemH,EAAwBQ,EAAOzH,EAAO,GACnD,MAAMC,QAAiBC,MACrB,GAAGL,EAAAM,iCAAiCN,EAAAO,iBAAiBqH,UAAczH,KAErE,IAAKC,EAASI,GACZ,MAAM,IAAIC,MAAML,EAASM,QAE3B,aAAaN,EAASO,M,CAZVG,SAASC,cAAc,eAC/BiF,iBAAiB,SA8HvB,SAAuBP,GACrB,MAAMoB,EAAcpB,EAAEC,OAAOsB,MAAMC,OAAOC,cAErCL,EAIHO,EAAwBP,GACrBjE,MAAK,EAACC,QAAEA,EAAOwE,cAAEA,MACXA,GAKHZ,EAAMlE,UAAU+C,OAAO,YACvBoB,EAAKnE,UAAUgD,IAAI,gBACnBiB,EAAWjE,UAAU+C,OAAO,aAQtC,SAA+BzC,GAC7B,MAAM3B,EAAS2B,EACZ1B,KACC,EAACC,GAAEA,EAAEE,MAAEA,KACL,qCAAqCF,sCACbE,2JAM3BO,KAAK,IACR2E,EAAW1E,UAAYZ,C,CAnBf2G,CAAsBhF,KAPtB4D,EAAMlE,UAAUgD,IAAI,YACpBmB,EAAKnE,UAAU+C,OAAO,gBACtBkB,EAAWjE,UAAUgD,IAAI,a,IAQ5B5B,OAAMmE,GAASjE,QAAQC,IAAIgE,MAhB9BpB,EAAKnE,UAAU+C,OAAO,gBACtBkB,EAAWjE,UAAUgD,IAAI,a,IAjI7BiB,EAAWR,iBAAiB,SAmK5B,SAAuBP,GACrB,IAAKA,EAAEC,OAAOqC,QAAQ,MACpB,OACK,GAAItC,EAAEC,OAAOqC,QAAQ,MAAO,CACjC,MAAMC,EAAUvC,EAAEC,OAAOqC,QAAQ,MAAME,QAAQ7G,IAE/C,EAAA8G,EAAAC,mBAAkBH,GACfpF,MAAKwF,GAoBZ,UAA+BhH,GAC7BA,EAAEC,YACFA,EAAWC,MACXA,EAAK+G,OACLA,EAAM7G,aACNA,IAEA,MAAMN,EAAS,yCAAyCE,8CACnB,EAAAR,EAAAa,eACzBJ,yHAG0BC,GAAS,4EAEjC,EAAAgH,EAAAC,aAAYF,IAAW,mCAEnC,EAAAzH,EAAAgB,aAAYJ,IAAiB,iEAI/B8E,EAAUxE,UAAYZ,C,CAxCHsH,CAAsBJ,KACpCzE,OAAM8E,GAAS5E,QAAQC,IAAI2E,KAC9B/B,EAAKnE,UAAU+C,OAAO,gBACtBkB,EAAWjE,UAAUgD,IAAI,aACzBmB,EAAKiB,SAEL,EAAArE,EAAAC,aAAYgD,GACZ/C,EAAe,EAAG,GAClBC,EAAmB,EAAG,GACtBC,EAAiB,GAEjB,MAAMuC,EAAiBnF,SAASC,cAAc,eACxCmF,EAAgBpF,SAASC,cAAc,gBAC7CkF,EAAe1D,UAAU+C,OAAO,aAChCY,EAAc3D,UAAU+C,OAAO,aAC/BW,EAAe5B,UAAW,EAC1B6B,EAAc7B,UAAW,C,gBCrN7B,MAAMqE,EAAe5H,SAASC,cAAc,kBACtC4H,EAAS7H,SAASC,cAAc,UAiBrB,IAAI6H,sBATE,SAAUC,EAASC,GACxCD,EAAQE,SAAQC,IACTA,EAAMC,eAEAD,EAAMC,gBACfP,EAAanG,UAAUgD,IAAI,aAF3BmD,EAAanG,UAAU+C,OAAO,YAES,G,GAX7B,CACd4D,KAAM,KACNC,WAAY,QACZC,UAAW,IAaJC,QAAQV,GAEjBD,EAAa1C,iBAAiB,SAE9B,WACE,MAAMsD,EAAOxI,SAASC,cAAc,QAAQoB,wBAC5Ce,OAAOC,SAAS,CACdC,IAAKkG,EAAKlG,IACVC,SAAU,WAEZ+C,YAAW,KACTsC,EAAanG,UAAUgD,IAAI,YAAY,GACtC,I","sources":["src/index.js","src/js-partials/home/movie-service.js","src/js-partials/home/renderMovieList.js","src/js-partials/home/pagination.js","src/js-partials/home/onHomePageLoad.js","src/js-partials/home/onMovieSearch.js","src/js-partials/home/onScrollButtonClick.js"],"sourcesContent":["import './js-partials/home/keyAndUrl';\nimport './js-partials/home/movie-service';\nimport './js-partials/home/onHomePageLoad';\nimport './js-partials/home/genres';\nimport './js-partials/home/functionsForRenderingMovies';\nimport './js-partials/home/renderMovieList';\nimport './js-partials/home/pagination';\nimport './js-partials/home/modal';\nimport './js-partials/home/fetchMovieDetails';\nimport './js-partials/home/renderMovieModal';\nimport './js-partials/home/onAddMovie';\nimport './js-partials/home/addToLocalStorage';\nimport './js-partials/home/deleteFromLocalStorage';\nimport './js-partials/home/onMovieSearch';\nimport './js-partials/home/fetchTrailer';\nimport './js-partials/home/onScrollButtonClick';\n","import { API_KEY, BASE_URL } from './keyAndUrl';\n\nexport async function fetchMovies(page = 1) {\n  const response = await fetch(\n    `${BASE_URL}/trending/movie/day?api_key=${API_KEY}&page=${page}`\n  );\n  if (!response.ok) {\n    throw new Error(response.status);\n  }\n  return await response.json();\n}\n","import {\n  checkImageSrc,\n  genresIdConverter,\n  getFullYear,\n  checkTitle,\n} from './functionsForRenderingMovies';\n\nconst movieList = document.querySelector('.movie-list');\n\nexport function renderMovieList(movies) {\n  const markup = movies\n    .map(\n      ({ id, poster_path, title, genre_ids, release_date }) =>\n        `<li class=\"movie-list__item\" data-id=\"${id}\">\n            <img class=\"movie-image\" ${checkImageSrc(\n              poster_path\n            )} alt=\"Movie poster\" loading=\"lazy\" />\n            <div class=\"movie-descr\">\n              <h2 class=\"movie-title\">${checkTitle(title)}</h2>\n              <p class=\"movie-info\"><span class=\"genre\">${genresIdConverter(\n                genre_ids\n              )} |</span><span>${getFullYear(release_date)}</span></p>\n            </div>\n        </li>`\n    )\n    .join('');\n  movieList.innerHTML = markup;\n}\n","import { fetchMovies } from './movie-service';\nimport { renderMovieList } from './renderMovieList';\nimport { clearMarkup } from './clearMarkup';\n\nconst movieList = document.querySelector('.movie-list');\nconst paginationList = document.querySelector('.pagination-list');\nconst paginationContainer = document.querySelector('.pagination');\nconst bodyRect = document.querySelector('body').getBoundingClientRect();\n\nfunction onBackwardButtonClick() {\n  const buttons = document.querySelectorAll('.pagination-button');\n  [...buttons].map(button => {\n    if (button.classList.contains('active')) {\n      const currentPageNumber = Number(button.textContent);\n      const pageNumberToClick = currentPageNumber - 1;\n      fetchMovies(pageNumberToClick)\n        .then(({ results, total_pages }) => {\n          renderMovieList(results);\n          const { height: cardHeight } = document\n            .querySelector('.movie-list')\n            .firstElementChild.getBoundingClientRect();\n          window.scrollBy({\n            top: -cardHeight * 7,\n            behavior: 'smooth',\n          });\n          clearMarkup(paginationList);\n          makePagination(pageNumberToClick, total_pages);\n          makeButtonDisabled(pageNumberToClick, total_pages);\n          makeButtonActive(pageNumberToClick);\n        })\n        .catch(error => console.log(error));\n    }\n  });\n}\n\nfunction onForwardButtonClick() {\n  const buttons = document.querySelectorAll('.pagination-button');\n  [...buttons].map(button => {\n    if (button.classList.contains('active')) {\n      const currentPageNumber = Number(button.textContent);\n      const pageNumberToClick = currentPageNumber + 1;\n      fetchMovies(pageNumberToClick)\n        .then(({ results, total_pages }) => {\n          renderMovieList(results);\n          const { height: cardHeight } = document\n            .querySelector('.movie-list')\n            .firstElementChild.getBoundingClientRect();\n          window.scrollBy({\n            top: -cardHeight * 7,\n            behavior: 'smooth',\n          });\n          clearMarkup(paginationList);\n          makePagination(pageNumberToClick, total_pages);\n          makeButtonDisabled(pageNumberToClick, total_pages);\n          makeButtonActive(pageNumberToClick);\n        })\n        .catch(error => console.log(error));\n    }\n  });\n}\n\nfunction makeButtonDisabled(pageNumber, lastPageNumber) {\n  const firstChild = paginationContainer.firstElementChild;\n  const lastChild = paginationContainer.lastElementChild;\n  if (pageNumber === 1) {\n    firstChild.disabled = 'true';\n    if (lastChild.hasAttribute('disabled')) {\n      lastChild.removeAttribute('disabled');\n    }\n  } else if (pageNumber === lastPageNumber) {\n    lastChild.disabled = 'true';\n    if (firstChild.hasAttribute('disabled')) {\n      firstChild.removeAttribute('disabled');\n    }\n  } else {\n    if (firstChild.hasAttribute('disabled')) {\n      firstChild.removeAttribute('disabled');\n    }\n    if (lastChild.hasAttribute('disabled')) {\n      lastChild.removeAttribute('disabled');\n    }\n  }\n}\n\nfunction buttonMarkup(array) {\n  const markup = array\n    .map(\n      pageNumber =>\n        `<li class=\"pagination-item\">\n          <button class=\"pagination-button\" type=\"button\">${pageNumber}</button>\n        </li>`\n    )\n    .join('');\n\n  return markup;\n}\n\nfunction makePagination(currentPageNumber, lastPageNumber) {\n  let buttonArray = [];\n  let paginationMarkup = '';\n  let numberOfButtons = 0;\n\n  const dots =\n    '<li class=\"pagination-item\"><button class=\"pagination-button\" type=\"button\" disabled>...</button></li>';\n  const firstButton =\n    '<li class=\"pagination-item\"><button class=\"pagination-button\" type=\"button\">1</button></li>';\n\n  const lastButton = `<li class=\"pagination-item\"><button class=\"pagination-button\" type=\"button\">${lastPageNumber}</button></li>`;\n\n  if (lastPageNumber <= 6) {\n    if (bodyRect.width < 768) {\n      if (lastPageNumber === 6) {\n        if (currentPageNumber >= 1 && currentPageNumber <= 3) {\n          numberOfButtons = 5;\n          for (let i = 1; i <= numberOfButtons; i += 1) {\n            buttonArray.push(i);\n          }\n        } else if (currentPageNumber >= 4 && currentPageNumber <= 6) {\n          numberOfButtons = 5;\n          for (let i = 2; i <= numberOfButtons; i += 1) {\n            buttonArray.push(i);\n          }\n        }\n        const markup = buttonMarkup(buttonArray);\n        paginationMarkup = `${markup}`;\n      } else if (lastPageNumber <= 5) {\n        for (let i = 1; i <= lastPageNumber; i += 1) {\n          buttonArray.push(i);\n        }\n        const markup = buttonMarkup(buttonArray);\n        paginationMarkup = `${markup}`;\n      }\n    } else {\n      for (let i = 1; i <= lastPageNumber; i += 1) {\n        buttonArray.push(i);\n      }\n      const markup = buttonMarkup(buttonArray);\n      paginationMarkup = `${markup}`;\n    }\n  } else if (lastPageNumber > 6) {\n    if (currentPageNumber >= 1 && currentPageNumber <= 4) {\n      numberOfButtons = 5;\n      for (let i = 1; i <= numberOfButtons; i += 1) {\n        buttonArray.push(i);\n      }\n      if (bodyRect.width < 768) {\n        const markup = buttonMarkup(buttonArray);\n        paginationMarkup = `${markup}`;\n      } else {\n        const markup = buttonMarkup(buttonArray);\n        paginationMarkup = `${markup} ${dots} ${lastButton}`;\n      }\n    } else if (\n      currentPageNumber >= 5 &&\n      currentPageNumber <= lastPageNumber - 4\n    ) {\n      numberOfButtons = currentPageNumber + 2;\n      const startButton = currentPageNumber - 2;\n      for (let i = startButton; i <= numberOfButtons; i += 1) {\n        buttonArray.push(i);\n      }\n      if (bodyRect.width < 768) {\n        const markup = buttonMarkup(buttonArray);\n        paginationMarkup = `${markup}`;\n      } else {\n        const markup = buttonMarkup(buttonArray);\n        paginationMarkup = `${firstButton} ${dots} ${markup} ${dots} ${lastButton}`;\n      }\n    } else if (currentPageNumber > lastPageNumber - 4) {\n      for (let i = lastPageNumber - 4; i <= lastPageNumber; i += 1) {\n        buttonArray.push(i);\n      }\n      if (bodyRect.width < 768) {\n        const markup = buttonMarkup(buttonArray);\n        paginationMarkup = `${markup}`;\n      } else {\n        const markup = buttonMarkup(buttonArray);\n        paginationMarkup = `${firstButton} ${dots} ${markup}`;\n      }\n    }\n  }\n  paginationList.innerHTML = paginationMarkup;\n}\n\nfunction makeButtonActive(number) {\n  const buttons = document.querySelectorAll('.pagination-button');\n  [...buttons].find(button => {\n    if (button.classList.contains('active')) {\n      button.classList.remove('active');\n    }\n    if (Number(button.textContent) === number) {\n      button.classList.add('active');\n    }\n  });\n}\n\nfunction onButtonClick(e) {\n  if (e.target.nodeName !== 'BUTTON') {\n    return;\n  }\n  if (e.target.textContent) {\n    const pageNumber = Number(e.target.textContent);\n    clearMarkup(movieList);\n    fetchMovies(pageNumber)\n      .then(({ results, total_pages }) => {\n        renderMovieList(results);\n        const { height: cardHeight } = document\n          .querySelector('.movie-list')\n          .firstElementChild.getBoundingClientRect();\n        window.scrollBy({\n          top: -cardHeight * 7,\n          behavior: 'smooth',\n        });\n        clearMarkup(paginationList);\n        makePagination(pageNumber, total_pages);\n        makeButtonDisabled(pageNumber);\n        makeButtonActive(pageNumber);\n      })\n      .catch(error => console.log(error));\n  }\n}\nexport {\n  onBackwardButtonClick,\n  onForwardButtonClick,\n  makeButtonDisabled,\n  buttonMarkup,\n  makePagination,\n  makeButtonActive,\n  onButtonClick,\n};\n","import { fetchMovies } from './movie-service';\nimport { renderMovieList } from './renderMovieList';\nimport {\n  onBackwardButtonClick,\n  onForwardButtonClick,\n  makeButtonDisabled,\n  makePagination,\n  makeButtonActive,\n  onButtonClick,\n} from './pagination';\n\nconst paginationList = document.querySelector('.pagination-list');\n\nonHomePageLoad();\n\nfunction onHomePageLoad() {\n  document.body.style.overflow = 'hidden';\n\n  let pageNumber = 1;\n\n  fetchMovies()\n    .then(({ results, total_pages }) => {\n      renderMovieList(results);\n      makePagination(pageNumber, total_pages);\n      makeButtonDisabled(pageNumber, total_pages);\n      makeButtonActive(pageNumber);\n    })\n    .catch(error => console.log(error));\n\n  paginationList.addEventListener('click', onButtonClick);\n  const backwardButton = document.querySelector('.arrow-left');\n  const forwardButton = document.querySelector('.arrow-right');\n  backwardButton.classList.remove('is-hidden');\n  forwardButton.classList.remove('is-hidden');\n  backwardButton.addEventListener('click', onBackwardButtonClick);\n  forwardButton.addEventListener('click', onForwardButtonClick);\n\n  window.onload = e => {\n    setTimeout(() => {\n      document.querySelector('.loader-wrapper').classList.add('turn-off');\n    }, 250);\n  };\n  document.body.style.overflow = 'visible';\n}\n","import { API_KEY, BASE_URL } from './keyAndUrl';\nimport { renderMovieList } from './renderMovieList';\nimport { clearMarkup } from './clearMarkup';\nimport { checkImageSrc, getFullYear } from './functionsForRenderingMovies';\nimport { fetchMovieDetails } from './fetchMovieDetails';\nimport { checkGenres } from './renderMovieModal';\nimport {\n  onBackwardButtonClick,\n  onForwardButtonClick,\n  makeButtonDisabled,\n  makePagination,\n  makeButtonActive,\n  onButtonClick,\n} from './pagination';\n\nconst movieList = document.querySelector('.movie-list');\n\nconst paginationList = document.querySelector('.pagination-list');\nconst resultList = document.querySelector('.results-list');\nconst error = document.querySelector('.error-message');\n\nconst form = document.querySelector('.form');\nform.addEventListener('submit', onMovieSearch);\n\nconst input = document.querySelector('.form-input');\ninput.addEventListener('input', onInputChange);\n\nresultList.addEventListener('click', onResultClick);\n\nasync function fetchMoviesInSearchLine(query, page = 1) {\n  const response = await fetch(\n    `${BASE_URL}/search/movie?api_key=${API_KEY}&query=${query}&page=${page}`\n  );\n  if (!response.ok) {\n    throw new Error(response.status);\n  }\n  return await response.json();\n}\n\nfunction onMovieSearch(e) {\n  e.preventDefault();\n\n  const searchQuery = e.currentTarget.elements.searchQuery.value\n    .trim()\n    .toLowerCase();\n  if (!searchQuery) {\n    return;\n  } else {\n    let pageNumber = 1;\n    fetchMoviesInSearchLine(searchQuery)\n      .then(({ results, total_results, total_pages }) => {\n        if (!total_results) {\n          error.classList.remove('is-shown');\n          return;\n        } else {\n          resultList.classList.add('is-hidden');\n          form.classList.remove('input-change');\n          renderMovieList(results);\n          makePagination(pageNumber, total_pages);\n          makeButtonDisabled(pageNumber);\n          makeButtonActive(pageNumber);\n        }\n      })\n      .catch(error => console.log(error));\n\n    paginationList.addEventListener('click', e => {\n      if (e.target.nodeName !== 'BUTTON') {\n        return;\n      }\n      if (e.target.textContent) {\n        const pageNumber = Number(e.target.textContent);\n        clearMarkup(movieList);\n        fetchMoviesInSearchLine(searchQuery, pageNumber)\n          .then(({ results, total_pages }) => {\n            renderMovieList(results);\n            const { height: cardHeight } = document\n              .querySelector('.movie-list')\n              .firstElementChild.getBoundingClientRect();\n            window.scrollBy({\n              top: -cardHeight * 7,\n              behavior: 'smooth',\n            });\n            clearMarkup(paginationList);\n            makePagination(pageNumber, total_pages);\n            makeButtonDisabled(pageNumber, total_pages);\n            makeButtonActive(pageNumber);\n          })\n          .catch(error => console.log(error));\n      }\n    });\n\n    const backwardButton = document.querySelector('.arrow-left');\n    const forwardButton = document.querySelector('.arrow-right');\n    backwardButton.classList.remove('is-hidden');\n    forwardButton.classList.remove('is-hidden');\n    backwardButton.removeEventListener('click', onBackwardButtonClick);\n    backwardButton.addEventListener('click', () => {\n      const buttons = document.querySelectorAll('.pagination-button');\n      [...buttons].find(button => {\n        if (button.classList.contains('active')) {\n          const currentPageNumber = Number(button.textContent);\n          const pageNumberToClick = currentPageNumber - 1;\n          fetchMoviesInSearchLine(searchQuery, pageNumberToClick)\n            .then(({ results, total_pages }) => {\n              renderMovieList(results);\n              const { height: cardHeight } = document\n                .querySelector('.movie-list')\n                .firstElementChild.getBoundingClientRect();\n              window.scrollBy({\n                top: -cardHeight * 7,\n                behavior: 'smooth',\n              });\n              clearMarkup(paginationList);\n              makePagination(pageNumberToClick, total_pages);\n              makeButtonDisabled(pageNumberToClick, total_pages);\n              makeButtonActive(pageNumberToClick);\n            })\n            .catch(error => console.log(error));\n        }\n      });\n    });\n    forwardButton.removeEventListener('click', onForwardButtonClick);\n    forwardButton.addEventListener('click', () => {\n      const buttons = document.querySelectorAll('.pagination-button');\n      [...buttons].find(button => {\n        if (button.classList.contains('active')) {\n          const currentPageNumber = Number(button.textContent);\n          const pageNumberToClick = currentPageNumber + 1;\n          fetchMoviesInSearchLine(searchQuery, pageNumberToClick)\n            .then(({ results, total_pages }) => {\n              renderMovieList(results);\n              const { height: cardHeight } = document\n                .querySelector('.movie-list')\n                .firstElementChild.getBoundingClientRect();\n              window.scrollBy({\n                top: -cardHeight * 7,\n                behavior: 'smooth',\n              });\n              clearMarkup(paginationList);\n              makePagination(pageNumberToClick, total_pages);\n              makeButtonDisabled(pageNumberToClick, total_pages);\n              makeButtonActive(pageNumberToClick);\n            })\n            .catch(error => console.log(error));\n        }\n      });\n    });\n  }\n  form.reset();\n}\n\nfunction onInputChange(e) {\n  const searchQuery = e.target.value.trim().toLowerCase();\n\n  if (!searchQuery) {\n    form.classList.remove('input-change');\n    resultList.classList.add('is-hidden');\n  } else {\n    fetchMoviesInSearchLine(searchQuery)\n      .then(({ results, total_results }) => {\n        if (!total_results) {\n          error.classList.add('is-shown');\n          form.classList.remove('input-change');\n          resultList.classList.add('is-hidden');\n        } else {\n          error.classList.remove('is-shown');\n          form.classList.add('input-change');\n          resultList.classList.remove('is-hidden');\n          renderSearchQueryList(results);\n        }\n      })\n      .catch(error => console.log(error));\n  }\n}\n\nfunction renderSearchQueryList(results) {\n  const markup = results\n    .map(\n      ({ id, title }) =>\n        `<li class=\"results-item\" data-id=\"${id}\">\n          <span class=\"title\">${title}</span>\n          <span class=\"delimeter\">|</span>\n          <span class=\"year\">2022</span>\n          <span class=\"vote\">7.8</span>\n        </li>`\n    )\n    .join('');\n  resultList.innerHTML = markup;\n}\n\nfunction onResultClick(e) {\n  if (!e.target.closest('li')) {\n    return;\n  } else if (e.target.closest('li')) {\n    const movieId = e.target.closest('li').dataset.id;\n\n    fetchMovieDetails(movieId)\n      .then(movie => fetchMovieFromResults(movie))\n      .catch(error => console.log(error));\n    form.classList.remove('input-change');\n    resultList.classList.add('is-hidden');\n    form.reset();\n\n    clearMarkup(paginationList);\n    makePagination(1, 1);\n    makeButtonDisabled(1, 1);\n    makeButtonActive(1);\n\n    const backwardButton = document.querySelector('.arrow-left');\n    const forwardButton = document.querySelector('.arrow-right');\n    backwardButton.classList.remove('is-hidden');\n    forwardButton.classList.remove('is-hidden');\n    backwardButton.disabled = true;\n    forwardButton.disabled = true;\n  }\n}\n\nfunction fetchMovieFromResults({\n  id,\n  poster_path,\n  title,\n  genres,\n  release_date,\n}) {\n  const markup = `<li class=\"movie-list__item\" data-id=\"${id}\">\n            <img class=\"movie-image\" ${checkImageSrc(\n              poster_path\n            )} alt=\"Movie poster\" loading=\"lazy\" />\n            <div class=\"movie-descr\">\n              <h2 class=\"movie-title\">${title || 'Unknown'}</h2>\n              <p class=\"movie-info\"><span class=\"genre\">${\n                checkGenres(genres) || 'No information'\n              } |</span><span>${\n    getFullYear(release_date) || 'No information'\n  }</span></p>\n            </div>\n        </li>`;\n  movieList.innerHTML = markup;\n}\n","const scrollButton = document.querySelector('.scroll-button');\nconst target = document.querySelector('header');\n\nconst options = {\n  root: null,\n  rootMargin: '100px',\n  threshold: 0,\n};\n\nconst onButtonAppear = function (entries, observer) {\n  entries.forEach(entry => {\n    if (!entry.isIntersecting) {\n      scrollButton.classList.remove('is-hidden');\n    } else if (entry.isIntersecting) {\n      scrollButton.classList.add('is-hidden');\n    }\n  });\n};\nconst observer = new IntersectionObserver(onButtonAppear, options);\nobserver.observe(target);\n\nscrollButton.addEventListener('click', onScrollButtonClick);\n\nfunction onScrollButtonClick() {\n  const rect = document.querySelector('body').getBoundingClientRect();\n  window.scrollBy({\n    top: rect.top,\n    behavior: 'smooth',\n  });\n  setTimeout(() => {\n    scrollButton.classList.add('is-hidden');\n  }, 250);\n}\n"],"names":["parcelRequire","$5KeTa","async","$97b1663d2c275ce2$export$88181abcadffafee","page","response","fetch","BASE_URL","API_KEY","ok","Error","status","json","$e2fFv","$df46c34519135e1f$var$movieList","document","querySelector","$df46c34519135e1f$export$42788b849dfd69ff","movies","markup","map","id","poster_path","title","genre_ids","release_date","checkImageSrc","checkTitle","genresIdConverter","getFullYear","join","innerHTML","$935f8476fc6622bf$var$movieList","$935f8476fc6622bf$var$paginationList","$935f8476fc6622bf$var$paginationContainer","$935f8476fc6622bf$var$bodyRect","getBoundingClientRect","$935f8476fc6622bf$export$30e277bf6f54bc40","querySelectorAll","button","classList","contains","pageNumberToClick","Number","textContent","then","results","total_pages","height","cardHeight","firstElementChild","window","scrollBy","top","behavior","$9WIO2","clearMarkup","$935f8476fc6622bf$export$a584d38fda452a59","$935f8476fc6622bf$export$33d283e0dc99b183","$935f8476fc6622bf$export$32fa3074bf047cbd","catch","error","console","log","$935f8476fc6622bf$export$84b71e7a582a314b","pageNumber","lastPageNumber","firstChild","lastChild","lastElementChild","disabled","hasAttribute","removeAttribute","$935f8476fc6622bf$export$dbd962f1e599f239","array","currentPageNumber","buttonArray","paginationMarkup","numberOfButtons","dots","firstButton","lastButton","width","i","push","number","find","remove","add","$935f8476fc6622bf$export$d5ea306ea69a0402","e","target","nodeName","$7a2aa998eb39d3f2$var$paginationList","body","style","overflow","addEventListener","backwardButton","forwardButton","onload","setTimeout","$7a2aa998eb39d3f2$var$onHomePageLoad","$340c8ec163884513$var$movieList","$340c8ec163884513$var$paginationList","$340c8ec163884513$var$resultList","$340c8ec163884513$var$error","$340c8ec163884513$var$form","e1","preventDefault","searchQuery","currentTarget","elements","value","trim","toLowerCase","pageNumber1","$340c8ec163884513$var$fetchMoviesInSearchLine","total_results","error1","error2","removeEventListener","error3","error4","reset","query","$340c8ec163884513$var$renderSearchQueryList","error5","closest","movieId","dataset","$2UGQT","fetchMovieDetails","movie","genres","$5Gpz0","checkGenres","$340c8ec163884513$var$fetchMovieFromResults","error6","$4614204aca571c1c$var$scrollButton","$4614204aca571c1c$var$target","IntersectionObserver","entries","observer","forEach","entry","isIntersecting","root","rootMargin","threshold","observe","rect"],"version":3,"file":"index.bd1148e6.js.map"}