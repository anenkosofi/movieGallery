const t=document.querySelector(".movie-list"),e=document.querySelector(".pagination-list"),n=document.querySelector("body").getBoundingClientRect();function i(){[...document.querySelectorAll(".pagination-button")].map((t=>{if(t.classList.contains("active")){const n=Number(t.textContent)-1;a(n).then((({results:t})=>{c(t)})).catch((t=>console.log(t))),m(e),r(n),u(n)}}))}function o(){[...document.querySelectorAll(".pagination-button")].map((t=>{if(t.classList.contains("active")){const n=Number(t.textContent)+1;a(n).then((({results:t})=>{c(t)})).catch((t=>console.log(t))),m(e),r(n),u(n)}}))}async function a(t=1){const e=await fetch(`https://api.themoviedb.org/3/trending/movie/day?api_key=bfcd7a06a5bb09fb5aafe756d2f60f73&page=${t}`);if(!e.ok)throw new Error(e.status);return await e.json()}a().then((({results:t})=>{c(t),r(1),u(1),e.addEventListener("click",d);const n=document.querySelector(".arrow-left"),a=document.querySelector(".arrow-right");n.addEventListener("click",i),a.addEventListener("click",o);document.querySelector(".movie-link")})).catch((t=>console.log(t)));const s={12:"Adventure",14:"Fantasy",16:"Animation",18:"Drama",27:"Horror",28:"Action",35:"Comedy",36:"History",37:"Western",53:"Thriller",80:"Crime",99:"Documentary",878:"Sci-Fi",9648:"Mystery",10402:"Music",10749:"Romance",10751:"Family",10752:"War",10770:"TV Movie"};function c(e){const n=e.map((({poster_path:t,title:e,genre_ids:n,release_date:i,vote_average:o})=>{return`<li class="movie-list__item">\n          <a class="movie-link" href="" data-modal-open>\n            <img class="movie-image" src="https://image.tmdb.org/t/p/w500${t}" alt="" width="375" />\n            <div class="movie-descr">\n              <h2 class="movie-title">${e}</h2>\n              <p class="movie-info">${l=n,l.map((t=>s[t])).slice(0,3).join(", ")} | ${c=i,new Date(c).getFullYear()}<span class="vote-average">${a=o,a.toFixed(1)}</span></p>\n            </div>\n          </a>\n        </li>`;var a,c,l})).join("");t.innerHTML=n}function l(t){return t.map((t=>`<li class="pagination-item">\n          <button class="pagination-button" type="button">${t}</button>\n        </li>`)).join("")}function r(t){let i=[],o="",a=0;const s='<li class="pagination-item"><button class="pagination-button" type="button">...</button></li>',c='<li class="pagination-item"><button class="pagination-button" type="button">1</button></li>',r='<li class="pagination-item"><button class="pagination-button" type="button">20</button></li>';if(t>=1&&t<=3){a=5;for(let t=1;t<=a;t+=1)i.push(t);if(n.width<768){o=`${l(i)}`}else{o=`${l(i)} ${s} ${r}`}}else if(t>3&&t<18){a=t+2;for(let e=t-2;e<=a;e+=1)i.push(e);if(n.width<768){o=`${l(i)}`}else{o=`${c} ${s} ${l(i)} ${s} ${r}`}}else if(t>=18){for(let t=16;t<=20;t+=1)i.push(t);if(n.width<768){o=`${l(i)}`}else{o=`${c} ${s} ${l(i)}`}}e.innerHTML=o}function u(t){[...document.querySelectorAll(".pagination-button")].map((e=>{e.classList.contains("active")&&e.classList.remove("active"),e.textContent==t&&e.classList.add("active")}))}function m(t){t.innerHTML=""}function d(n){if("BUTTON"===n.target.nodeName&&n.target.textContent){const i=Number(n.target.textContent);m(t),a(i).then((({results:t})=>{c(t)})).catch((t=>console.log(t))),m(e),r(i),u(i)}}
//# sourceMappingURL=index.beba9f7b.js.map
