var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},s=e.parcelRequired7c6;null==s&&((s=function(e){if(e in t)return t[e].exports;if(e in n){var s=n[e];delete n[e];var i={id:e,exports:{}};return t[e]=i,s.call(i.exports,i,i.exports),i.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){n[e]=t},e.parcelRequired7c6=s),s("5KeTa");var i=s("5KeTa");async function a(e=1){const t=await fetch(`${i.BASE_URL}/trending/movie/day?api_key=${i.API_KEY}&page=${e}`);if(!t.ok)throw new Error(t.status);return await t.json()}var o=s("e2fFv");const r=document.querySelector(".movie-list");function l(e){const t=e.map((({id:e,poster_path:t,title:n,genre_ids:s,release_date:i})=>`<li class="movie-list__item" data-id="${e}">\n            <img class="movie-image" ${(0,o.checkImageSrc)(t)} alt="Movie poster" loading="lazy" />\n            <div class="movie-descr">\n              <h2 class="movie-title">${(0,o.checkTitle)(n)}</h2>\n              <p class="movie-info"><span class="genre">${(0,o.genresIdConverter)(s)} |</span><span>${(0,o.getFullYear)(i)}</span></p>\n            </div>\n        </li>`)).join("");r.innerHTML=t}var c=s("9WIO2");const d=document.querySelector(".movie-list"),u=document.querySelector(".pagination-list"),m=document.querySelector(".pagination"),p=document.querySelector("body").getBoundingClientRect();function f(){[...document.querySelectorAll(".pagination-button")].map((e=>{if(e.classList.contains("active")){const t=Number(e.textContent)-1;a(t).then((({results:e})=>{l(e)})).catch((e=>console.log(e))),(0,c.clearMarkup)(u),b(t),g(t),y(t)}}))}function h(){[...document.querySelectorAll(".pagination-button")].map((e=>{if(e.classList.contains("active")){const t=Number(e.textContent)+1;a(t).then((({results:e})=>{l(e)})).catch((e=>console.log(e))),(0,c.clearMarkup)(u),b(t),g(t),y(t)}}))}function g(e,t){const n=m.firstElementChild,s=m.lastElementChild;1===e?(n.disabled="true",s.hasAttribute("disabled")&&s.removeAttribute("disabled")):e===t?(s.disabled="true",n.hasAttribute("disabled")&&n.removeAttribute("disabled")):(n.hasAttribute("disabled")&&n.removeAttribute("disabled"),s.hasAttribute("disabled")&&s.removeAttribute("disabled"))}function v(e){return e.map((e=>`<li class="pagination-item">\n          <button class="pagination-button" type="button">${e}</button>\n        </li>`)).join("")}function b(e,t){let n=[],s="",i=0;const a='<li class="pagination-item"><button class="pagination-button" type="button" disabled>...</button></li>',o='<li class="pagination-item"><button class="pagination-button" type="button">1</button></li>',r=`<li class="pagination-item"><button class="pagination-button" type="button">${t}</button></li>`;if(t<=6){for(let e=1;e<=t;e+=1)n.push(e);s=`${v(n)}`}else if(t>6)if(e>=1&&e<=4){i=5;for(let e=1;e<=i;e+=1)n.push(e);if(p.width<768){s=`${v(n)}`}else{s=`${v(n)} ${a} ${r}`}}else if(e>=5&&e<=t-4){i=e+2;for(let t=e-2;t<=i;t+=1)n.push(t);if(p.width<768){s=`${v(n)}`}else{s=`${o} ${a} ${v(n)} ${a} ${r}`}}else if(e>t-4){for(let e=t-4;e<=t;e+=1)n.push(e);if(p.width<768){s=`${v(n)}`}else{s=`${o} ${a} ${v(n)}`}}u.innerHTML=s}function y(e){[...document.querySelectorAll(".pagination-button")].find((t=>{t.classList.contains("active")&&t.classList.remove("active"),Number(t.textContent)===e&&t.classList.add("active")}))}function L(e){if("BUTTON"===e.target.nodeName&&e.target.textContent){const t=Number(e.target.textContent);(0,c.clearMarkup)(d),a(t).then((({results:e,total_pages:n})=>{l(e),(0,c.clearMarkup)(u),b(t,n),g(t),y(t)})).catch((e=>console.log(e)))}}const $=document.querySelector(".pagination-list");!function(){document.body.style.overflow="hidden";a().then((({results:e,total_pages:t})=>{l(e),b(1,t),g(1,t),y(1)})).catch((e=>console.log(e))),$.addEventListener("click",L);const e=document.querySelector(".arrow-left"),t=document.querySelector(".arrow-right");e.classList.remove("is-hidden"),t.classList.remove("is-hidden"),e.addEventListener("click",f),t.addEventListener("click",h),window.onload=e=>{setTimeout((()=>{document.querySelector(".loader-wrapper").classList.add("turn-off")}),250)},document.body.style.overflow="visible"}(),s("jxehG"),s("e2fFv"),s("hfwlf"),s("2UGQT"),s("5Gpz0"),s("jD5nR"),s("cCskP"),s("an6E8");i=s("5KeTa"),c=s("9WIO2"),o=s("e2fFv");var w=s("2UGQT"),S=s("5Gpz0");const q=document.querySelector(".movie-list"),k=document.querySelector(".pagination-list"),_=document.querySelector(".results-list"),E=document.querySelector(".error-message"),T=document.querySelector(".form");T.addEventListener("submit",(function(e){e.preventDefault();const t=e.currentTarget.elements.searchQuery.value.trim().toLowerCase();A(t).then((({results:e,total_pages:t})=>{_.classList.add("is-hidden"),T.classList.remove("input-change"),l(e),b(1,t),g(1),y(1)})).catch((e=>console.log(e))),k.addEventListener("click",(e=>{if("BUTTON"===e.target.nodeName&&e.target.textContent){const n=Number(e.target.textContent);(0,c.clearMarkup)(q),A(t,n).then((({results:e,total_pages:t})=>{l(e),(0,c.clearMarkup)(k),b(n,t),g(n,t),y(n)})).catch((e=>console.log(e)))}}));const n=document.querySelector(".arrow-left"),s=document.querySelector(".arrow-right");n.classList.remove("is-hidden"),s.classList.remove("is-hidden"),n.addEventListener("click",f),s.addEventListener("click",h),T.reset()}));async function A(e,t=1){const n=await fetch(`${i.BASE_URL}/search/movie?api_key=${i.API_KEY}&query=${e}&page=${t}`);if(!n.ok)throw new Error(n.status);return await n.json()}document.querySelector(".form-input").addEventListener("input",(function(e){const t=e.target.value.trim().toLowerCase();t?A(t).then((({results:e,total_results:t})=>{t?(E.classList.remove("is-shown"),T.classList.add("input-change"),_.classList.remove("is-hidden"),function(e){const t=e.map((({id:e,title:t})=>`<li class="results-item" data-id="${e}">\n          <span class="title">${t}</span>\n          <span class="delimeter">|</span>\n          <span class="year">2022</span>\n          <span class="vote">7.8</span>\n        </li>`)).join("");_.innerHTML=t}(e)):(E.classList.add("is-shown"),T.classList.remove("input-change"),_.classList.add("is-hidden"))})).catch((e=>console.log(e))):(T.classList.remove("input-change"),_.classList.add("is-hidden"));const n=document.querySelector(".arrow-left"),s=document.querySelector(".arrow-right");n.classList.add("is-hidden"),s.classList.add("is-hidden"),(0,c.clearMarkup)(k)})),_.addEventListener("click",(function(e){if(!e.target.closest("li"))return;if(e.target.closest("li")){const t=e.target.closest("li").dataset.id;(0,w.fetchMovieDetails)(t).then((e=>function({id:e,poster_path:t,title:n,genres:s,release_date:i}){const a=`<li class="movie-list__item" data-id="${e}">\n            <img class="movie-image" ${(0,o.checkImageSrc)(t)} alt="Movie poster" loading="lazy" />\n            <div class="movie-descr">\n              <h2 class="movie-title">${n||"Unknown"}</h2>\n              <p class="movie-info"><span class="genre">${(0,S.checkGenres)(s)||"No information"} |</span><span>${(0,o.getFullYear)(i)||"No information"}</span></p>\n            </div>\n        </li>`;q.innerHTML=a}(e))).catch((e=>console.log(e))),T.classList.remove("input-change"),_.classList.add("is-hidden"),T.reset()}})),s("azhP0");
//# sourceMappingURL=index.bd1c8935.js.map
