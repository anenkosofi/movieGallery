function e(e,t,n,o){Object.defineProperty(e,t,{get:n,set:o,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},r={},a=n.parcelRequired7c6;null==a&&((a=function(e){if(e in o)return o[e].exports;if(e in r){var t=r[e];delete r[e];var n={id:e,exports:{}};return o[e]=n,t.call(n.exports,n,n.exports),n.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){r[e]=t},n.parcelRequired7c6=a),a.register("kyEFX",(function(t,n){var o,r;e(t.exports,"register",(function(){return o}),(function(e){return o=e})),e(t.exports,"resolve",(function(){return r}),(function(e){return r=e}));var a={};o=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)a[t[n]]=e[t[n]]},r=function(e){var t=a[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),a.register("5KeTa",(function(t,n){e(t.exports,"API_KEY",(function(){return o})),e(t.exports,"BASE_URL",(function(){return r}));const o="bfcd7a06a5bb09fb5aafe756d2f60f73",r="https://api.themoviedb.org/3"})),a.register("e2fFv",(function(n,o){e(n.exports,"genresIdConverter",(function(){return s})),e(n.exports,"getFullYear",(function(){return c})),e(n.exports,"roundAverageVote",(function(){return l})),e(n.exports,"checkImageSrc",(function(){return u}));var r=a("jxehG"),i=a("1zZMY");function s(e){return e.length>2?e.map((e=>r.genres[e])).slice(0,2).join(", ")+", Other":e.length>0&&e.length<=2?e.map((e=>r.genres[e])).join(", "):" "}function c(e){return new Date(e).getFullYear()}function l(e){return e.toFixed(1)}function u(e){return e?`src="https://image.tmdb.org/t/p/w500${e}"`:`src="${t(i)}"`}})),a.register("jxehG",(function(t,n){e(t.exports,"genres",(function(){return o}));const o={12:"Adventure",14:"Fantasy",16:"Animation",18:"Drama",27:"Horror",28:"Action",35:"Comedy",36:"History",37:"Western",53:"Thriller",80:"Crime",99:"Documentary",878:"Sci-Fi",9648:"Mystery",10402:"Music",10749:"Romance",10751:"Family",10752:"War",10770:"TV Movie"}})),a.register("1zZMY",(function(e,t){e.exports=new URL(a("kyEFX").resolve("frxiO"),import.meta.url).toString()})),a.register("9WIO2",(function(t,n){function o(e){e.innerHTML=""}e(t.exports,"clearMarkup",(function(){return o}))})),a.register("hfwlf",(function(e,t){var n=a("2UGQT"),o=a("5Gpz0"),r=a("jD5nR");const i=document.querySelector(".movie-list"),s=document.querySelector(".backdrop"),c=document.querySelector(".close-button");function l(){s.classList.add("is-hidden")}function u(e){"Escape"===e.code&&(document.removeEventListener("keydown",u),l())}i.addEventListener("click",(function(e){let t=0;e.target.closest("li")&&(t=e.target.closest("li").dataset.id);const a=document.querySelector(".information");a&&a.remove();(0,n.fetchMovieDetails)(t).then((e=>{(0,o.renderMovieModal)(e);document.querySelector('[data-name="modal-wrapper"]').addEventListener("click",r.onAddMovie)})).catch((e=>console.log(e))),s.classList.remove("is-hidden"),document.addEventListener("keydown",u)})),c.addEventListener("click",l),s.addEventListener("click",(function(e){e.currentTarget===e.target&&l()}))})),a.register("2UGQT",(function(t,n){e(t.exports,"fetchMovieDetails",(function(){return r}));var o=a("5KeTa");async function r(e){const t=await fetch(`${o.BASE_URL}/movie/${e}?api_key=${o.API_KEY}`);if(!t.ok)throw new Error(t.status);return await t.json()}})),a.register("5Gpz0",(function(t,n){e(t.exports,"renderMovieModal",(function(){return i}));var o=a("e2fFv");const r=document.querySelector(".modal");function i({id:e,genres:t,original_title:n,overview:a,popularity:i,poster_path:c,release_date:l,title:u,vote_average:d,vote_count:m}){const g="add to watched",f="add to queue",p="remove from watched",v="remove from queue";let y="",h="";const S=JSON.parse(localStorage.getItem(e));S&&1===S.length&&S.includes("watched")?(y=p,h=f):S&&1===S.length&&S.includes("queue")?(h=v,y=g):S&&2===S.length?(y=p,h=v):(y=g,h=f);const b=`<div class="information" data-id="${e}" data-year="${(0,o.getFullYear)(l)}"><img ${(0,o.checkImageSrc)(c)} alt="Movie poster" data-name="poster-path" />\n    <div class="movie-details">\n      <h3 class="movie-heading" data-name="title">${u}</h3>\n      <ul class="movie-list-info">\n        <li class="movie-list-info__item">\n          <p class="movie-testimonial">Vote / Votes</p>\n          <p class="movie-mark">\n            <span class="rating" data-name="vote-average">${(0,o.roundAverageVote)(d)}</span><span class="delimeter">/</span\n            ><span class="quantity" data-name="vote-count">${m}</span>\n          </p>\n        </li>\n        <li class="movie-list-info__item">\n          <p class="movie-testimonial">Popularity</p>\n          <p class="movie-mark" data-name="popularity">${(0,o.roundAverageVote)(i)}</p>\n        </li>\n        <li class="movie-list-info__item">\n          <p class="movie-testimonial">Original Title</p>\n          <p class="movie-mark movie-mark--original-title" data-name="original-title">${n}</p>\n        </li>\n        <li class="movie-list-info__item">\n          <p class="movie-testimonial">Genre</p>\n          <p class="movie-mark" data-name="genres">${s(t)}</p>\n        </li>\n      </ul>\n      <p class="about">About</p>\n      <p class="about-descr" data-name="overview">${a}</p>\n      <div class="modal-wrapper" data-name="modal-wrapper">\n      <button class="button modal-button" type="button" data-action="watched">\n        ${y}\n      </button>\n      <button\n        class="button modal-button"\n        type="button"\n        data-action="queue"\n      >\n        ${h}\n      </button>\n    </div>\n  </div>\n</div>`;r.firstElementChild.insertAdjacentHTML("afterend",b)}function s(e){return e.length>2?genres=e.slice(0,2).map((e=>e.name)).join(", ")+", Other":e.length>0&&e.length<=2?genres=e.map((e=>e.name)).join(", "):genres=" "}})),a.register("jD5nR",(function(t,n){e(t.exports,"onAddMovie",(function(){return i}));var o=a("cCskP"),r=a("an6E8");function i(e){const t="add to watched",n="add to queue",a="remove from watched",i="remove from queue";let s="";e.target.closest("button")&&(e.target.closest("button").textContent.trim().toLowerCase()===t?(e.target.closest("button").textContent=a,s=e.target.closest("button").dataset.action,(0,o.addToLocalStorage)(s)):e.target.closest("button").textContent.trim().toLowerCase()===n?(e.target.closest("button").textContent=i,s=e.target.closest("button").dataset.action,(0,o.addToLocalStorage)(s)):e.target.closest("button").textContent.trim().toLowerCase()===a?(e.target.closest("button").textContent=t,s=e.target.closest("button").dataset.action,(0,r.deleteFromLocalStorage)(s)):e.target.closest("button").textContent.trim().toLowerCase()===i&&(e.target.closest("button").textContent=n,s=e.target.closest("button").dataset.action,(0,r.deleteFromLocalStorage)(s)))}})),a.register("cCskP",(function(t,n){function o(e){const t=document.querySelector(".information").dataset.id;!function(e,t){const n=JSON.parse(localStorage.getItem(e));if(n){const o=[...n];o.push(t),localStorage.setItem(e,JSON.stringify(o))}else{const n=[];n.push(t),localStorage.setItem(e,JSON.stringify(n))}}(t,e);const n=document.querySelector('[data-name="genres"]').textContent,o=document.querySelector('[data-name="original-title"]').textContent,r=document.querySelector('[data-name="overview"]').textContent,a=document.querySelector('[data-name="popularity"]').textContent,i=document.querySelector('[data-name="poster-path"]').src,s=document.querySelector(".information").dataset.year,c=document.querySelector('[data-name="title"]').textContent,l=document.querySelector('[data-name="vote-average"]').textContent,u=document.querySelector('[data-name="vote-count"]').textContent,d=JSON.parse(localStorage.getItem(e));if(d){const m=[...d];if(m.every((e=>e.id!==t))){const d={id:t,genres:n,originalTitle:o,overview:r,popularity:a,posterPath:i,year:s,title:c,voteAverage:l,voteCount:u};m.push(d),localStorage.setItem(e,JSON.stringify(m))}}else{const d=[],m={id:t,genres:n,originalTitle:o,overview:r,popularity:a,posterPath:i,year:s,title:c,voteAverage:l,voteCount:u};d.push(m),localStorage.setItem(e,JSON.stringify(d))}}e(t.exports,"addToLocalStorage",(function(){return o}))})),a.register("an6E8",(function(t,n){function o(e){const t=document.querySelector(".information").dataset.id;!function(e,t){const n=[...JSON.parse(localStorage.getItem(e))],o=n.indexOf(t);n.splice(o,1),n.length?localStorage.setItem(e,JSON.stringify(n)):localStorage.removeItem(e)}(t,e);const n=[...JSON.parse(localStorage.getItem(e))],o=n.findIndex((e=>e.id===t));n.splice(o,1),localStorage.setItem(e,JSON.stringify(n))}e(t.exports,"deleteFromLocalStorage",(function(){return o}))})),a("kyEFX").register(JSON.parse('{"b9auz":"index.4d1a2f6e.js","frxiO":"placeholder.2262f4e0.png"}'));
//# sourceMappingURL=index.4d1a2f6e.js.map
