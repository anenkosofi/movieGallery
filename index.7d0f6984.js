var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},i=e.parcelRequired7c6;null==i&&((i=function(e){if(e in t)return t[e].exports;if(e in n){var i=n[e];delete n[e];var s={id:e,exports:{}};return t[e]=s,i.call(s.exports,s,s.exports),s.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){n[e]=t},e.parcelRequired7c6=i),i("5KeTa");var s=i("5KeTa");async function o(e=1){const t=await fetch(`${s.BASE_URL}/trending/movie/day?api_key=${s.API_KEY}&page=${e}`);if(!t.ok)throw new Error(t.status);return await t.json()}var a=i("e2fFv");const r=document.querySelector(".movie-list");function l(e){const t=e.map((({id:e,poster_path:t,title:n,genre_ids:i,release_date:s})=>`<li class="movie-list__item" data-id="${e}">\n            <img class="movie-image" ${(0,a.checkImageSrc)(t)} alt="Movie poster" loading="lazy" />\n            <div class="movie-descr">\n              <h2 class="movie-title">${n||"Unknown"}</h2>\n              <p class="movie-info"><span class="genre">${(0,a.genresIdConverter)(i)||"No information"} |</span><span>${(0,a.getFullYear)(s)||"No information"}</span></p>\n            </div>\n        </li>`)).join("");r.innerHTML=t}var c=i("9WIO2");const u=document.querySelector(".movie-list"),d=document.querySelector(".pagination-list"),m=document.querySelector(".pagination"),p=document.querySelector("body").getBoundingClientRect();function f(){[...document.querySelectorAll(".pagination-button")].map((e=>{if(e.classList.contains("active")){const t=Number(e.textContent)-1;o(t).then((({results:e})=>{l(e)})).catch((e=>console.log(e))),(0,c.clearMarkup)(d),v(t),g(t),y(t)}}))}function h(){[...document.querySelectorAll(".pagination-button")].map((e=>{if(e.classList.contains("active")){const t=Number(e.textContent)+1;o(t).then((({results:e})=>{l(e)})).catch((e=>console.log(e))),(0,c.clearMarkup)(d),v(t),g(t),y(t)}}))}function g(e){const t=m.firstElementChild,n=m.lastElementChild;1===e?(t.disabled="true",n.hasAttribute("disabled")&&n.removeAttribute("disabled")):20===e?(n.disabled="true",t.hasAttribute("disabled")&&t.removeAttribute("disabled")):(t.hasAttribute("disabled")&&t.removeAttribute("disabled"),n.hasAttribute("disabled")&&n.removeAttribute("disabled"))}function b(e){return e.map((e=>`<li class="pagination-item">\n          <button class="pagination-button" type="button">${e}</button>\n        </li>`)).join("")}function v(e){let t=[],n="",i=0;const s='<li class="pagination-item"><button class="pagination-button" type="button" disabled>...</button></li>',o='<li class="pagination-item"><button class="pagination-button" type="button">1</button></li>',a='<li class="pagination-item"><button class="pagination-button" type="button">20</button></li>';if(e>=1&&e<=3){i=5;for(let e=1;e<=i;e+=1)t.push(e);if(p.width<768){n=`${b(t)}`}else{n=`${b(t)} ${s} ${a}`}}else if(e>3&&e<18){i=e+2;for(let n=e-2;n<=i;n+=1)t.push(n);if(p.width<768){n=`${b(t)}`}else{n=`${o} ${s} ${b(t)} ${s} ${a}`}}else if(e>=18){for(let e=16;e<=20;e+=1)t.push(e);if(p.width<768){n=`${b(t)}`}else{n=`${o} ${s} ${b(t)}`}}d.innerHTML=n}function y(e){[...document.querySelectorAll(".pagination-button")].map((t=>{t.classList.contains("active")&&t.classList.remove("active"),Number(t.textContent)===e&&t.classList.add("active")}))}function L(e){if("BUTTON"===e.target.nodeName&&e.target.textContent){const t=Number(e.target.textContent);(0,c.clearMarkup)(u),o(t).then((({results:e})=>{l(e)})).catch((e=>console.log(e))),(0,c.clearMarkup)(d),v(t),g(t),y(t)}}const w=document.querySelector(".pagination-list");!function(){o().then((({results:e})=>l(e))).catch((e=>console.log(e))),v(1),g(1),y(1),w.addEventListener("click",L);const e=document.querySelector(".arrow-left"),t=document.querySelector(".arrow-right");e.classList.remove("is-hidden"),t.classList.remove("is-hidden"),e.addEventListener("click",f),t.addEventListener("click",h)}(),i("jxehG"),i("e2fFv"),i("hfwlf"),i("2UGQT"),i("5Gpz0"),i("jD5nR"),i("cCskP"),i("an6E8");s=i("5KeTa"),c=i("9WIO2");const $=document.querySelector(".pagination-list"),q=document.querySelector(".results-list"),S=document.querySelector(".error-message"),k=document.querySelector(".form");async function E(e){const t=await fetch(`${s.BASE_URL}/search/movie?api_key=${s.API_KEY}&query=${e}`);if(!t.ok)throw new Error(t.status);return await t.json()}k.addEventListener("submit",(function(e){e.preventDefault();E(e.currentTarget.elements.searchQuery.value.trim().toLowerCase()).then((({results:e})=>{q.classList.add("is-hidden"),l(e)})).catch((e=>console.log(e)));const t=document.querySelector(".arrow-left"),n=document.querySelector(".arrow-right");t.classList.add("is-hidden"),n.classList.add("is-hidden"),(0,c.clearMarkup)($),k.reset()}));document.querySelector(".form-input").addEventListener("input",(function(e){const t=e.target.value.trim().toLowerCase();t?E(t).then((({results:e,total_results:t})=>{t?(S.classList.remove("is-shown"),k.classList.add("input-change"),q.classList.remove("is-hidden"),function(e){const t=e.map((({id:e,title:t})=>`<li class="results-item" data-id="${e}">${t}</li>`)).join("");q.innerHTML=t}(e)):(S.classList.add("is-shown"),k.classList.remove("input-change"),q.classList.add("is-hidden"))})).catch((e=>console.log(e))):(k.classList.remove("input-change"),q.classList.add("is-hidden"));const n=document.querySelector(".arrow-left"),i=document.querySelector(".arrow-right");n.classList.add("is-hidden"),i.classList.add("is-hidden"),(0,c.clearMarkup)($)}));
//# sourceMappingURL=index.7d0f6984.js.map
