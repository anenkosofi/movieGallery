!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},o={},i=t.parcelRequired7c6;null==i&&((i=function(e){if(e in n)return n[e].exports;if(e in o){var t=o[e];delete o[e];var i={id:e,exports:{}};return n[e]=i,t.call(i.exports,i,i.exports),i.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){o[e]=t},t.parcelRequired7c6=i),i("kgI7q");var r=i("bpxeT"),a=i("2TvXO"),c=i("kgI7q");function s(){return l.apply(this,arguments)}function l(){return l=e(r)(e(a).mark((function t(){var n,o,i=arguments;return e(a).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>0&&void 0!==i[0]?i[0]:1,e.next=3,fetch("".concat(c.BASE_URL,"/trending/movie/day?api_key=").concat(c.API_KEY,"&page=").concat(n));case 3:if((o=e.sent).ok){e.next=6;break}throw new Error(o.status);case 6:return e.next=8,o.json();case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),t)}))),l.apply(this,arguments)}var u=i("bELoF"),d=document.querySelector(".movie-list");function v(e){var t=e.map((function(e){var t=e.id,n=e.poster_path,o=e.title,i=e.genre_ids,r=e.release_date;return'<li class="movie-list__item" data-id="'.concat(t,'">\n            <img class="movie-image" ').concat((0,u.checkImageSrc)(n),' alt="Movie poster" loading="lazy" />\n            <div class="movie-descr">\n              <h2 class="movie-title">').concat((0,u.checkTitle)(o),'</h2>\n              <p class="movie-info"><span class="genre">').concat((0,u.genresIdConverter)(i)," |</span><span>").concat((0,u.getFullYear)(r),"</span></p>\n            </div>\n        </li>")})).join("");d.innerHTML=t}var f=i("8nrFW"),m=i("1VCXc"),h=document.querySelector(".movie-list"),p=document.querySelector(".pagination-list"),g=document.querySelector(".pagination"),b=document.querySelector("body").getBoundingClientRect();function y(){var t=document.querySelectorAll(".pagination-button");e(f)(t).map((function(e){if(e.classList.contains("active")){var t=Number(e.textContent)-1;s(t).then((function(e){var n=e.results,o=e.total_pages;v(n);var i=document.querySelector(".movie-list").firstElementChild.getBoundingClientRect().height;window.scrollBy({top:7*-i,behavior:"smooth"}),(0,m.clearMarkup)(p),S(t,o),w(t,o),k(t)})).catch((function(e){return console.log(e)}))}}))}function L(){var t=document.querySelectorAll(".pagination-button");e(f)(t).map((function(e){if(e.classList.contains("active")){var t=Number(e.textContent)+1;s(t).then((function(e){var n=e.results,o=e.total_pages;v(n);var i=document.querySelector(".movie-list").firstElementChild.getBoundingClientRect().height;window.scrollBy({top:7*-i,behavior:"smooth"}),(0,m.clearMarkup)(p),S(t,o),w(t,o),k(t)})).catch((function(e){return console.log(e)}))}}))}function w(e,t){var n=g.firstElementChild,o=g.lastElementChild;1===e?(n.disabled="true",o.hasAttribute("disabled")&&o.removeAttribute("disabled")):e===t?(o.disabled="true",n.hasAttribute("disabled")&&n.removeAttribute("disabled")):(n.hasAttribute("disabled")&&n.removeAttribute("disabled"),o.hasAttribute("disabled")&&o.removeAttribute("disabled"))}function q(e){return e.map((function(e){return'<li class="pagination-item">\n          <button class="pagination-button" type="button">'.concat(e,"</button>\n        </li>")})).join("")}function S(e,t){var n=[],o="",i=0,r='<li class="pagination-item"><button class="pagination-button" type="button" disabled>...</button></li>',a='<li class="pagination-item"><button class="pagination-button" type="button">1</button></li>',c='<li class="pagination-item"><button class="pagination-button" type="button">'.concat(t,"</button></li>");if(t<=6)if(b.width<768){if(6===t){if(e>=1&&e<=3){i=5;for(var s=1;s<=i;s+=1)n.push(s)}else if(e>=4&&e<=6){i=5;for(var l=2;l<=i;l+=1)n.push(l)}var u=q(n);o="".concat(u)}else if(t<=5){for(var d=1;d<=t;d+=1)n.push(d);var v=q(n);o="".concat(v)}}else{for(var f=1;f<=t;f+=1)n.push(f);var m=q(n);o="".concat(m)}else if(t>6)if(e>=1&&e<=4){i=5;for(var h=1;h<=i;h+=1)n.push(h);if(b.width<768){var g=q(n);o="".concat(g)}else{var y=q(n);o="".concat(y," ").concat(r," ").concat(c)}}else if(e>=5&&e<=t-4){i=e+2;for(var L=e-2;L<=i;L+=1)n.push(L);if(b.width<768){var w=q(n);o="".concat(w)}else{var S=q(n);o="".concat(a," ").concat(r," ").concat(S," ").concat(r," ").concat(c)}}else if(e>t-4){for(var k=t-4;k<=t;k+=1)n.push(k);if(b.width<768){var C=q(n);o="".concat(C)}else{var E=q(n);o="".concat(a," ").concat(r," ").concat(E)}}p.innerHTML=o}function k(t){var n=document.querySelectorAll(".pagination-button");e(f)(n).find((function(e){e.classList.contains("active")&&e.classList.remove("active"),Number(e.textContent)===t&&e.classList.add("active")}))}function C(e){if("BUTTON"===e.target.nodeName&&e.target.textContent){var t=Number(e.target.textContent);(0,m.clearMarkup)(h),s(t).then((function(e){var n=e.results,o=e.total_pages;v(n);var i=document.querySelector(".movie-list").firstElementChild.getBoundingClientRect().height;window.scrollBy({top:7*-i,behavior:"smooth"}),(0,m.clearMarkup)(p),S(t,o),w(t),k(t)})).catch((function(e){return console.log(e)}))}}var E=document.querySelector(".pagination-list");!function(){document.body.style.overflow="hidden";s().then((function(e){var t=e.results,n=e.total_pages;v(t),S(1,n),w(1,n),k(1)})).catch((function(e){return console.log(e)})),E.addEventListener("click",C);var e=document.querySelector(".arrow-left"),t=document.querySelector(".arrow-right");e.classList.remove("is-hidden"),t.classList.remove("is-hidden"),e.addEventListener("click",y),t.addEventListener("click",L),window.onload=function(e){setTimeout((function(){document.querySelector(".loader-wrapper").classList.add("turn-off")}),250)},document.body.style.overflow="visible"}(),i("e9OUR"),i("bELoF"),i("6Hzcf"),i("aZweA"),i("aXvIb"),i("7FCPQ"),i("bmUS0"),i("cfdYy");r=i("bpxeT"),f=i("8nrFW"),a=i("2TvXO"),c=i("kgI7q"),m=i("1VCXc"),u=i("bELoF");var _=i("aZweA"),x=i("aXvIb"),A=document.querySelector(".movie-list"),B=document.querySelector(".pagination-list"),M=document.querySelector(".results-list"),T=document.querySelector(".error-message"),N=document.querySelector(".form");function I(e){return R.apply(this,arguments)}function R(){return R=e(r)(e(a).mark((function t(n){var o,i,r=arguments;return e(a).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.length>1&&void 0!==r[1]?r[1]:1,e.next=3,fetch("".concat(c.BASE_URL,"/search/movie?api_key=").concat(c.API_KEY,"&query=").concat(n,"&page=").concat(o));case 3:if((i=e.sent).ok){e.next=6;break}throw new Error(i.status);case 6:return e.next=8,i.json();case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),t)}))),R.apply(this,arguments)}N.addEventListener("submit",(function(t){t.preventDefault();var n=t.currentTarget.elements.searchQuery.value.trim().toLowerCase();if(!n)return;I(n).then((function(e){var t=e.results,n=e.total_results,o=e.total_pages;n?(M.classList.add("is-hidden"),N.classList.remove("input-change"),v(t),S(1,o),w(1),k(1)):T.classList.remove("is-shown")})).catch((function(e){return console.log(e)})),B.addEventListener("click",(function(e){if("BUTTON"===e.target.nodeName&&e.target.textContent){var t=Number(e.target.textContent);(0,m.clearMarkup)(A),I(n,t).then((function(e){var n=e.results,o=e.total_pages;v(n);var i=document.querySelector(".movie-list").firstElementChild.getBoundingClientRect().height;window.scrollBy({top:7*-i,behavior:"smooth"}),(0,m.clearMarkup)(B),S(t,o),w(t,o),k(t)})).catch((function(e){return console.log(e)}))}}));var o=document.querySelector(".arrow-left"),i=document.querySelector(".arrow-right");o.classList.remove("is-hidden"),i.classList.remove("is-hidden"),o.removeEventListener("click",y),o.addEventListener("click",(function(){var t=document.querySelectorAll(".pagination-button");e(f)(t).find((function(e){if(e.classList.contains("active")){var t=Number(e.textContent)-1;I(n,t).then((function(e){var n=e.results,o=e.total_pages;v(n);var i=document.querySelector(".movie-list").firstElementChild.getBoundingClientRect().height;window.scrollBy({top:7*-i,behavior:"smooth"}),(0,m.clearMarkup)(B),S(t,o),w(t,o),k(t)})).catch((function(e){return console.log(e)}))}}))})),i.removeEventListener("click",L),i.addEventListener("click",(function(){var t=document.querySelectorAll(".pagination-button");e(f)(t).find((function(e){if(e.classList.contains("active")){var t=Number(e.textContent)+1;I(n,t).then((function(e){var n=e.results,o=e.total_pages;v(n);var i=document.querySelector(".movie-list").firstElementChild.getBoundingClientRect().height;window.scrollBy({top:7*-i,behavior:"smooth"}),(0,m.clearMarkup)(B),S(t,o),w(t,o),k(t)})).catch((function(e){return console.log(e)}))}}))}));N.reset()})),document.querySelector(".form-input").addEventListener("input",(function(e){var t=e.target.value.trim().toLowerCase();t?I(t).then((function(e){var t=e.results;e.total_results?(T.classList.remove("is-shown"),N.classList.add("input-change"),M.classList.remove("is-hidden"),function(e){var t=e.map((function(e){var t=e.id,n=e.title;return'<li class="results-item" data-id="'.concat(t,'">\n          <span class="title">').concat(n,'</span>\n          <span class="delimeter">|</span>\n          <span class="year">2022</span>\n          <span class="vote">7.8</span>\n        </li>')})).join("");M.innerHTML=t}(t)):(T.classList.add("is-shown"),N.classList.remove("input-change"),M.classList.add("is-hidden"))})).catch((function(e){return console.log(e)})):(N.classList.remove("input-change"),M.classList.add("is-hidden"))})),M.addEventListener("click",(function(e){if(!e.target.closest("li"))return;if(e.target.closest("li")){var t=e.target.closest("li").dataset.id;(0,_.fetchMovieDetails)(t).then((function(e){return n=(t=e).id,o=t.poster_path,i=t.title,r=t.genres,a=t.release_date,c='<li class="movie-list__item" data-id="'.concat(n,'">\n            <img class="movie-image" ').concat((0,u.checkImageSrc)(o),' alt="Movie poster" loading="lazy" />\n            <div class="movie-descr">\n              <h2 class="movie-title">').concat(i||"Unknown",'</h2>\n              <p class="movie-info"><span class="genre">').concat((0,x.checkGenres)(r)||"No information"," |</span><span>").concat((0,u.getFullYear)(a)||"No information","</span></p>\n            </div>\n        </li>"),void(A.innerHTML=c);var t,n,o,i,r,a,c})).catch((function(e){return console.log(e)})),N.classList.remove("input-change"),M.classList.add("is-hidden"),N.reset(),(0,m.clearMarkup)(B),S(1,1),w(1,1),k(1);var n=document.querySelector(".arrow-left"),o=document.querySelector(".arrow-right");n.classList.remove("is-hidden"),o.classList.remove("is-hidden"),n.disabled=!0,o.disabled=!0}})),i("hJLVb");var F=document.querySelector(".scroll-button"),O=document.querySelector("header");new IntersectionObserver((function(e,t){e.forEach((function(e){e.isIntersecting?e.isIntersecting&&F.classList.add("is-hidden"):F.classList.remove("is-hidden")}))}),{root:null,rootMargin:"100px",threshold:0}).observe(O),F.addEventListener("click",(function(){var e=document.querySelector("body").getBoundingClientRect();window.scrollBy({top:e.top,behavior:"smooth"}),setTimeout((function(){F.classList.add("is-hidden")}),250)}))}();
//# sourceMappingURL=index.5b71777d.js.map
