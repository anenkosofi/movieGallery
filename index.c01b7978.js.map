{"mappings":"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","sources":["src/index.js","src/js-partials/home/movie-service.js","src/js-partials/home/renderMovieList.js","src/js-partials/home/pagination.js","src/js-partials/home/onHomePageLoad.js","src/js-partials/home/onMovieSearch.js","src/js-partials/home/fetchTrailer.js"],"sourcesContent":["import './js-partials/home/keyAndUrl';\nimport './js-partials/home/movie-service';\nimport './js-partials/home/onHomePageLoad';\nimport './js-partials/home/genres';\nimport './js-partials/home/functionsForRenderingMovies';\nimport './js-partials/home/renderMovieList';\nimport './js-partials/home/pagination';\nimport './js-partials/home/modal';\nimport './js-partials/home/fetchMovieDetails';\nimport './js-partials/home/renderMovieModal';\nimport './js-partials/home/onAddMovie';\nimport './js-partials/home/addToLocalStorage';\nimport './js-partials/home/deleteFromLocalStorage';\nimport './js-partials/home/onMovieSearch';\nimport './js-partials/home/fetchTrailer';\n","import { API_KEY, BASE_URL } from './keyAndUrl';\n\nexport async function fetchMovies(page = 1) {\n  const response = await fetch(\n    `${BASE_URL}/trending/movie/day?api_key=${API_KEY}&page=${page}`\n  );\n  if (!response.ok) {\n    throw new Error(response.status);\n  }\n  return await response.json();\n}\n","import {\n  checkImageSrc,\n  genresIdConverter,\n  getFullYear,\n} from './functionsForRenderingMovies';\n\nconst movieList = document.querySelector('.movie-list');\n\nexport function renderMovieList(movies) {\n  const markup = movies\n    .map(\n      ({ id, poster_path, title, genre_ids, release_date }) =>\n        `<li class=\"movie-list__item\" data-id=\"${id}\">\n            <img class=\"movie-image\" ${checkImageSrc(\n              poster_path\n            )} alt=\"Movie poster\" loading=\"lazy\" />\n            <div class=\"movie-descr\">\n              <h2 class=\"movie-title\">${title || 'Unknown'}</h2>\n              <p class=\"movie-info\"><span class=\"genre\">${\n                genresIdConverter(genre_ids) || 'No information'\n              } |</span><span>${\n          getFullYear(release_date) || 'No information'\n        }</span></p>\n            </div>\n        </li>`\n    )\n    .join('');\n  movieList.innerHTML = markup;\n}\n","import { fetchMovies } from './movie-service';\nimport { renderMovieList } from './renderMovieList';\nimport { clearMarkup } from './clearMarkup';\n\nconst movieList = document.querySelector('.movie-list');\nconst paginationList = document.querySelector('.pagination-list');\nconst paginationContainer = document.querySelector('.pagination');\nconst bodyRect = document.querySelector('body').getBoundingClientRect();\n\nfunction onBackwardButtonClick() {\n  const buttons = document.querySelectorAll('.pagination-button');\n  [...buttons].map(button => {\n    if (button.classList.contains('active')) {\n      const currentPageNumber = Number(button.textContent);\n      const pageNumberToClick = currentPageNumber - 1;\n      fetchMovies(pageNumberToClick)\n        .then(({ results }) => {\n          renderMovieList(results);\n        })\n        .catch(error => console.log(error));\n      clearMarkup(paginationList);\n      makePagination(pageNumberToClick);\n      makeButtonDisabled(pageNumberToClick);\n      makeButtonActive(pageNumberToClick);\n    }\n  });\n}\n\nfunction onForwardButtonClick() {\n  const buttons = document.querySelectorAll('.pagination-button');\n  [...buttons].map(button => {\n    if (button.classList.contains('active')) {\n      const currentPageNumber = Number(button.textContent);\n      const pageNumberToClick = currentPageNumber + 1;\n      fetchMovies(pageNumberToClick)\n        .then(({ results }) => {\n          renderMovieList(results);\n        })\n        .catch(error => console.log(error));\n      clearMarkup(paginationList);\n      makePagination(pageNumberToClick);\n      makeButtonDisabled(pageNumberToClick);\n      makeButtonActive(pageNumberToClick);\n    }\n  });\n}\n\nfunction makeButtonDisabled(pageNumber) {\n  const firstChild = paginationContainer.firstElementChild;\n  const lastChild = paginationContainer.lastElementChild;\n  if (pageNumber === 1) {\n    firstChild.disabled = 'true';\n    if (lastChild.hasAttribute('disabled')) {\n      lastChild.removeAttribute('disabled');\n    }\n  } else if (pageNumber === 20) {\n    lastChild.disabled = 'true';\n    if (firstChild.hasAttribute('disabled')) {\n      firstChild.removeAttribute('disabled');\n    }\n  } else {\n    if (firstChild.hasAttribute('disabled')) {\n      firstChild.removeAttribute('disabled');\n    }\n    if (lastChild.hasAttribute('disabled')) {\n      lastChild.removeAttribute('disabled');\n    }\n  }\n}\n\nfunction buttonMarkup(array) {\n  const markup = array\n    .map(\n      pageNumber =>\n        `<li class=\"pagination-item\">\n          <button class=\"pagination-button\" type=\"button\">${pageNumber}</button>\n        </li>`\n    )\n    .join('');\n\n  return markup;\n}\n\nfunction makePagination(quantity) {\n  let buttonArray = [];\n  let paginationMarkup = '';\n  let numberOfButtons = 0;\n  const dots =\n    '<li class=\"pagination-item\"><button class=\"pagination-button\" type=\"button\" disabled>...</button></li>';\n  const firstButton =\n    '<li class=\"pagination-item\"><button class=\"pagination-button\" type=\"button\">1</button></li>';\n\n  const lastButton =\n    '<li class=\"pagination-item\"><button class=\"pagination-button\" type=\"button\">20</button></li>';\n\n  if (quantity >= 1 && quantity <= 3) {\n    numberOfButtons = 5;\n    for (let i = 1; i <= numberOfButtons; i += 1) {\n      buttonArray.push(i);\n    }\n    if (bodyRect.width < 768) {\n      const markup = buttonMarkup(buttonArray);\n      paginationMarkup = `${markup}`;\n    } else {\n      const markup = buttonMarkup(buttonArray);\n      paginationMarkup = `${markup} ${dots} ${lastButton}`;\n    }\n  } else if (quantity > 3 && quantity < 18) {\n    numberOfButtons = quantity + 2;\n    const startButton = quantity - 2;\n    for (let i = startButton; i <= numberOfButtons; i += 1) {\n      buttonArray.push(i);\n    }\n    if (bodyRect.width < 768) {\n      const markup = buttonMarkup(buttonArray);\n      paginationMarkup = `${markup}`;\n    } else {\n      const markup = buttonMarkup(buttonArray);\n      paginationMarkup = `${firstButton} ${dots} ${markup} ${dots} ${lastButton}`;\n    }\n  } else if (quantity >= 18) {\n    for (let i = 16; i <= 20; i += 1) {\n      buttonArray.push(i);\n    }\n    if (bodyRect.width < 768) {\n      const markup = buttonMarkup(buttonArray);\n      paginationMarkup = `${markup}`;\n    } else {\n      const markup = buttonMarkup(buttonArray);\n      paginationMarkup = `${firstButton} ${dots} ${markup}`;\n    }\n  }\n\n  paginationList.innerHTML = paginationMarkup;\n}\n\nfunction makeButtonActive(number) {\n  const buttons = document.querySelectorAll('.pagination-button');\n  [...buttons].map(button => {\n    if (button.classList.contains('active')) {\n      button.classList.remove('active');\n    }\n    if (Number(button.textContent) === number) {\n      button.classList.add('active');\n    }\n  });\n}\n\nfunction onButtonClick(e) {\n  if (e.target.nodeName !== 'BUTTON') {\n    return;\n  }\n  if (e.target.textContent) {\n    const pageNumber = Number(e.target.textContent);\n    clearMarkup(movieList);\n    fetchMovies(pageNumber)\n      .then(({ results }) => {\n        renderMovieList(results);\n      })\n      .catch(error => console.log(error));\n    clearMarkup(paginationList);\n    makePagination(pageNumber);\n    makeButtonDisabled(pageNumber);\n    makeButtonActive(pageNumber);\n  }\n}\nexport {\n  onBackwardButtonClick,\n  onForwardButtonClick,\n  makeButtonDisabled,\n  buttonMarkup,\n  makePagination,\n  makeButtonActive,\n  onButtonClick,\n};\n","import { fetchMovies } from './movie-service';\nimport { renderMovieList } from './renderMovieList';\nimport {\n  onBackwardButtonClick,\n  onForwardButtonClick,\n  makeButtonDisabled,\n  makePagination,\n  makeButtonActive,\n  onButtonClick,\n} from './pagination';\n\nconst paginationList = document.querySelector('.pagination-list');\n\nonHomePageLoad();\n\nfunction onHomePageLoad() {\n  document.body.style.overflow = 'hidden';\n\n  let pageNumber = 1;\n\n  fetchMovies()\n    .then(({ results }) => renderMovieList(results))\n    .catch(error => console.log(error));\n\n  makePagination(pageNumber);\n  makeButtonDisabled(pageNumber);\n  makeButtonActive(pageNumber);\n\n  paginationList.addEventListener('click', onButtonClick);\n  const backwardButton = document.querySelector('.arrow-left');\n  const forwardButton = document.querySelector('.arrow-right');\n  backwardButton.classList.remove('is-hidden');\n  forwardButton.classList.remove('is-hidden');\n  backwardButton.addEventListener('click', onBackwardButtonClick);\n  forwardButton.addEventListener('click', onForwardButtonClick);\n\n  window.onload = e => {\n    setTimeout(() => {\n      document.querySelector('.loader-wrapper').classList.add('turn-off');\n    }, 100);\n  };\n  document.body.style.overflow = 'visible';\n}\n","import { API_KEY, BASE_URL } from './keyAndUrl';\nimport { renderMovieList } from './renderMovieList';\nimport { clearMarkup } from './clearMarkup';\nimport { checkImageSrc, getFullYear } from './functionsForRenderingMovies';\nimport { fetchMovieDetails } from './fetchMovieDetails';\nimport { checkGenres } from './renderMovieModal';\n\nconst movieList = document.querySelector('.movie-list');\nconst paginationList = document.querySelector('.pagination-list');\nconst resultList = document.querySelector('.results-list');\nconst error = document.querySelector('.error-message');\n\nconst form = document.querySelector('.form');\nform.addEventListener('submit', onMovieSearch);\n\nconst input = document.querySelector('.form-input');\ninput.addEventListener('input', onInputChange);\n\nresultList.addEventListener('click', onResultClick);\n\nasync function fetchMoviesInSearchLine(query) {\n  const response = await fetch(\n    `${BASE_URL}/search/movie?api_key=${API_KEY}&query=${query}`\n  );\n  if (!response.ok) {\n    throw new Error(response.status);\n  }\n  return await response.json();\n}\n\nfunction onMovieSearch(e) {\n  e.preventDefault();\n\n  const searchQuery = e.currentTarget.elements.searchQuery.value\n    .trim()\n    .toLowerCase();\n  fetchMoviesInSearchLine(searchQuery)\n    .then(({ results }) => {\n      resultList.classList.add('is-hidden');\n      form.classList.remove('input-change');\n      renderMovieList(results);\n    })\n    .catch(error => console.log(error));\n\n  const backwardButton = document.querySelector('.arrow-left');\n  const forwardButton = document.querySelector('.arrow-right');\n  backwardButton.classList.add('is-hidden');\n  forwardButton.classList.add('is-hidden');\n  clearMarkup(paginationList);\n  form.reset();\n}\n\nfunction onInputChange(e) {\n  const searchQuery = e.target.value.trim().toLowerCase();\n\n  if (!searchQuery) {\n    form.classList.remove('input-change');\n    resultList.classList.add('is-hidden');\n  } else {\n    fetchMoviesInSearchLine(searchQuery)\n      .then(({ results, total_results }) => {\n        if (!total_results) {\n          error.classList.add('is-shown');\n          form.classList.remove('input-change');\n          resultList.classList.add('is-hidden');\n        } else {\n          error.classList.remove('is-shown');\n          form.classList.add('input-change');\n          resultList.classList.remove('is-hidden');\n          renderSearchQueryList(results);\n        }\n      })\n      .catch(error => console.log(error));\n  }\n\n  const backwardButton = document.querySelector('.arrow-left');\n  const forwardButton = document.querySelector('.arrow-right');\n  backwardButton.classList.add('is-hidden');\n  forwardButton.classList.add('is-hidden');\n  clearMarkup(paginationList);\n}\n\nfunction renderSearchQueryList(results) {\n  const markup = results\n    .map(\n      ({ id, title }) =>\n        `<li class=\"results-item\" data-id=\"${id}\">\n          <span class=\"title\">${title}</span>\n          <span class=\"delimeter\">|</span>\n          <span class=\"year\">2022</span>\n          <span class=\"vote\">7.8</span>\n        </li>`\n    )\n    .join('');\n  resultList.innerHTML = markup;\n}\n\nfunction onResultClick(e) {\n  if (!e.target.closest('li')) {\n    return;\n  } else if (e.target.closest('li')) {\n    const movieId = e.target.closest('li').dataset.id;\n\n    fetchMovieDetails(movieId)\n      .then(movie => fetchMovieFromResults(movie))\n      .catch(error => console.log(error));\n    form.classList.remove('input-change');\n    resultList.classList.add('is-hidden');\n    form.reset();\n  }\n}\n\nfunction fetchMovieFromResults({\n  id,\n  poster_path,\n  title,\n  genres,\n  release_date,\n}) {\n  const markup = `<li class=\"movie-list__item\" data-id=\"${id}\">\n            <img class=\"movie-image\" ${checkImageSrc(\n              poster_path\n            )} alt=\"Movie poster\" loading=\"lazy\" />\n            <div class=\"movie-descr\">\n              <h2 class=\"movie-title\">${title || 'Unknown'}</h2>\n              <p class=\"movie-info\"><span class=\"genre\">${\n                checkGenres(genres) || 'No information'\n              } |</span><span>${\n    getFullYear(release_date) || 'No information'\n  }</span></p>\n            </div>\n        </li>`;\n  movieList.innerHTML = markup;\n}\n","import { API_KEY, BASE_URL } from './keyAndUrl';\n\n// /movie/{movie_id}/videos\n\nexport async function fetchTrailer() {\n  const response = await fetch(\n    `${BASE_URL}/movie/555604/videos?api_key=${API_KEY}`\n  );\n  if (!response.ok) {\n    throw new Error(response.status);\n  }\n  return await response.json();\n}\n\nfetchTrailer()\n  .then(({ results }) => {\n    const trailer = results.find(result => result.type === 'Trailer');\n    const movieKey = trailer.key;\n    console.log(movieKey);\n  })\n  .catch(error => console.log(error));\n\n// https://www.youtube.com/watch?v=\n"],"names":["parcelRequire","$bpxeT","$e3ab35ba29f60c56$export$88181abcadffafee","$e3ab35ba29f60c56$var$_fetchMovies","apply","this","arguments","$parcel$interopDefault","$2TvXO","mark","_callee","page","response","_args","length","fetch","concat","$kgI7q","BASE_URL","API_KEY","_ctx","sent","ok","Error","status","json","$bELoF","$06303a0617b2a7a0$var$movieList","document","querySelector","$06303a0617b2a7a0$export$42788b849dfd69ff","movies","markup","map","param","id","poster_path","title","genre_ids","release_date","checkImageSrc","genresIdConverter","getFullYear","join","innerHTML","$8nrFW","$bb86b599b8f76a34$var$movieList","$bb86b599b8f76a34$var$paginationList","$bb86b599b8f76a34$var$paginationContainer","$bb86b599b8f76a34$var$bodyRect","getBoundingClientRect","$bb86b599b8f76a34$export$30e277bf6f54bc40","buttons","querySelectorAll","button","classList","contains","pageNumberToClick","Number","textContent","then","results","catch","error","console","log","$1VCXc","clearMarkup","$bb86b599b8f76a34$export$a584d38fda452a59","$bb86b599b8f76a34$export$33d283e0dc99b183","$bb86b599b8f76a34$export$32fa3074bf047cbd","$bb86b599b8f76a34$export$84b71e7a582a314b","pageNumber","firstChild","firstElementChild","lastChild","lastElementChild","disabled","hasAttribute","removeAttribute","$bb86b599b8f76a34$export$dbd962f1e599f239","array","quantity","buttonArray","paginationMarkup","numberOfButtons","dots","firstButton","lastButton","i","push","width","markup1","i1","markup2","markup3","i2","markup4","markup5","number","remove","add","$bb86b599b8f76a34$export$d5ea306ea69a0402","e","target","nodeName","$604156fde7dac53b$var$paginationList","body","style","overflow","addEventListener","backwardButton","forwardButton","window","onload","setTimeout","$604156fde7dac53b$var$onHomePageLoad","$985490e5fb7b4b74$var$movieList","$985490e5fb7b4b74$var$paginationList","$985490e5fb7b4b74$var$resultList","$985490e5fb7b4b74$var$error","$985490e5fb7b4b74$var$form","$985490e5fb7b4b74$var$fetchMoviesInSearchLine","query","$985490e5fb7b4b74$var$_fetchMoviesInSearchLine","preventDefault","currentTarget","elements","searchQuery","value","trim","toLowerCase","error1","reset","total_results","$985490e5fb7b4b74$var$renderSearchQueryList","error2","closest","movieId","dataset","$aZweA","fetchMovieDetails","movie","genres","$aXvIb","checkGenres","error3","$ce9bcfd5dbbb534a$var$_fetchTrailer","$ce9bcfd5dbbb534a$export$16b5f39e5defaec7","movieKey","find","result","type","key"],"version":3,"file":"index.c01b7978.js.map"}