{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","src/js-partials/home/keyAndUrl.js","src/js-partials/home/functionsForRenderingMovies.js","src/js-partials/home/genres.js","node_modules/@parcel/runtime-js/lib/runtime-8101b21c863353f7.js","src/js-partials/home/clearMarkup.js","src/js-partials/home/modal.js","src/js-partials/home/fetchMovieDetails.js","src/js-partials/home/renderMovieModal.js","src/js-partials/home/onAddMovie.js","src/js-partials/home/addToLocalStorage.js","src/js-partials/home/deleteFromLocalStorage.js","src/js-partials/home/fetchTrailer.js","node_modules/@parcel/runtime-js/lib/runtime-89d1a33c4f6362bc.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","const API_KEY = 'bfcd7a06a5bb09fb5aafe756d2f60f73';\nconst BASE_URL = 'https://api.themoviedb.org/3';\n\nexport { API_KEY, BASE_URL };\n","import { genres } from './genres';\nimport defaultImage from '../../images/placeholder.png';\n\nfunction genresIdConverter(genreIds) {\n  if (genreIds.length > 2) {\n    return (genreIds =\n      genreIds\n        .map(genreId => (genreId = genres[genreId]))\n        .slice(0, 2)\n        .join(', ') + ', Other');\n  } else if (genreIds.length > 0 && genreIds.length <= 2) {\n    return (genreIds = genreIds\n      .map(genreId => (genreId = genres[genreId]))\n      .join(', '));\n  } else {\n    return (genreIds = 'No Information');\n  }\n}\n\nfunction getFullYear(date) {\n  const year = new Date(date).getFullYear();\n\n  return year;\n}\n\nfunction roundAverageVote(vote) {\n  const roundedVote = vote.toFixed(1);\n  return roundedVote;\n}\n\nfunction checkImageSrc(src) {\n  if (src) {\n    return `src=\"https://image.tmdb.org/t/p/w500${src}\"`;\n  }\n  return `src=\"${defaultImage}\"`;\n}\n\nexport { genresIdConverter, getFullYear, roundAverageVote, checkImageSrc };\n","export const genres = {\n  12: 'Adventure',\n  14: 'Fantasy',\n  16: 'Animation',\n  18: 'Drama',\n  27: 'Horror',\n  28: 'Action',\n  35: 'Comedy',\n  36: 'History',\n  37: 'Western',\n  53: 'Thriller',\n  80: 'Crime',\n  99: 'Documentary',\n  878: 'Sci-Fi',\n  9648: 'Mystery',\n  10402: 'Music',\n  10749: 'Romance',\n  10751: 'Family',\n  10752: 'War',\n  10770: 'TV Movie',\n};\n","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"frxiO\")).toString();","export function clearMarkup(container) {\n  container.innerHTML = '';\n}\n","import { fetchMovieDetails } from './fetchMovieDetails';\nimport { renderMovieModal } from './renderMovieModal';\nimport { onAddMovie } from './onAddMovie';\nimport { onPlayButtonClick } from './fetchTrailer';\n\nconst movieList = document.querySelector('.movie-list');\nconst backdrop = document.querySelector('.backdrop');\nconst closeButton = document.querySelector('.close-button');\n\nmovieList.addEventListener('click', onModalWindowOpen);\ncloseButton.addEventListener('click', onModalWindowClose);\nbackdrop.addEventListener('click', onBackdropClick);\n\nfunction onModalWindowOpen(e) {\n  if (!e.target.closest('li')) {\n    return;\n  } else if (e.target.closest('li')) {\n    const movieId = e.target.closest('li').dataset.id;\n    const information = document.querySelector('.information');\n    if (information) {\n      information.remove();\n    }\n\n    fetchMovieDetails(movieId)\n      .then(movie => {\n        renderMovieModal(movie);\n        const modalButtons = document.querySelector(\n          '[data-name=\"modal-wrapper\"]'\n        );\n        modalButtons.addEventListener('click', onAddMovie);\n        const playButton = document.querySelector('.circle');\n        playButton.addEventListener('click', onPlayButtonClick);\n      })\n      .catch(error => console.log(error));\n\n    document.body.style.overflow = 'hidden';\n    backdrop.classList.remove('is-hidden');\n    document.addEventListener('keydown', onEscClose);\n  }\n}\n\nfunction onModalWindowClose() {\n  backdrop.classList.add('is-hidden');\n  document.body.style.overflow = 'visible';\n}\n\nfunction onBackdropClick(e) {\n  if (e.currentTarget === e.target) {\n    onModalWindowClose();\n  }\n}\n\nfunction onEscClose(e) {\n  if (e.code === 'Escape') {\n    document.removeEventListener('keydown', onEscClose);\n    onModalWindowClose();\n  }\n}\n\nexport { onModalWindowOpen, onModalWindowClose, onBackdropClick, onEscClose };\n","import { API_KEY, BASE_URL } from './keyAndUrl';\n\nexport async function fetchMovieDetails(movieId) {\n  const response = await fetch(\n    `${BASE_URL}/movie/${movieId}?api_key=${API_KEY}`\n  );\n  if (!response.ok) {\n    throw new Error(response.status);\n  }\n  return await response.json();\n}\n","import {\n  checkImageSrc,\n  roundAverageVote,\n  getFullYear,\n} from './functionsForRenderingMovies';\n\nconst modalWindow = document.querySelector('.modal');\n\nfunction renderMovieModal({\n  id,\n  genres,\n  original_title,\n  overview,\n  popularity,\n  poster_path,\n  release_date,\n  title,\n  vote_average,\n  vote_count,\n}) {\n  const addToWatched = 'add to watched';\n  const addToQueue = 'add to queue';\n  const removeFromWatched = 'remove from watched';\n  const removeFromQueue = 'remove from queue';\n\n  let textContentForWatchedButton = '';\n  let textContentForQueueButton = '';\n  const data = JSON.parse(localStorage.getItem(id));\n  if (data && data.length === 1 && data.includes('watched')) {\n    textContentForWatchedButton = removeFromWatched;\n    textContentForQueueButton = addToQueue;\n  } else if (data && data.length === 1 && data.includes('queue')) {\n    textContentForQueueButton = removeFromQueue;\n    textContentForWatchedButton = addToWatched;\n  } else if (data && data.length === 2) {\n    textContentForWatchedButton = removeFromWatched;\n    textContentForQueueButton = removeFromQueue;\n  } else {\n    textContentForWatchedButton = addToWatched;\n    textContentForQueueButton = addToQueue;\n  }\n  const markup = `<div class=\"information\" data-id=\"${id}\" data-year=\"${getFullYear(\n    release_date\n  )}\"><div class=\"trailer\"><img ${checkImageSrc(\n    poster_path\n  )} alt=\"Movie poster\" data-name=\"poster-path\" />\n    <div class=\"overlay\">\n    <div class=\"circle\"><svg width=\"60\" height=\"60\" viewBox=\"0 0 32 32\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path d=\"M16 0c-8.837 0-16 7.163-16 16s7.163 16 16 16 16-7.163 16-16-7.163-16-16-16zM16 29c-7.18 0-13-5.82-13-13s5.82-13 13-13 13 5.82 13 13-5.82 13-13 13zM12 9l12 7-12 7z\"></path>\n        </svg></div>\n    </div>\n  </div>\n    <div class=\"movie-details\">\n      <h3 class=\"movie-heading\" data-name=\"title\">${title}</h3>\n      <ul class=\"movie-list-info\">\n        <li class=\"movie-list-info__item\">\n          <p class=\"movie-testimonial\">Vote / Votes</p>\n          <p class=\"movie-mark\">\n            <span class=\"rating\" data-name=\"vote-average\">${roundAverageVote(\n              vote_average\n            )}</span><span class=\"delimeter\">/</span\n            ><span class=\"quantity\" data-name=\"vote-count\">${vote_count}</span>\n          </p>\n        </li>\n        <li class=\"movie-list-info__item\">\n          <p class=\"movie-testimonial\">Popularity</p>\n          <p class=\"movie-mark\" data-name=\"popularity\">${roundAverageVote(\n            popularity\n          )}</p>\n        </li>\n        <li class=\"movie-list-info__item\">\n          <p class=\"movie-testimonial\">Original Title</p>\n          <p class=\"movie-mark movie-mark--original-title\" data-name=\"original-title\">${original_title}</p>\n        </li>\n        <li class=\"movie-list-info__item\">\n          <p class=\"movie-testimonial\">Genre</p>\n          <p class=\"movie-mark\" data-name=\"genres\">${checkGenres(genres)}</p>\n        </li>\n      </ul>\n      <p class=\"about\">About</p>\n      <p class=\"about-descr\" data-name=\"overview\">${overview}</p>\n      <div class=\"modal-wrapper\" data-name=\"modal-wrapper\">\n      <button class=\"button modal-button\" type=\"button\" data-action=\"watched\">\n        ${textContentForWatchedButton}\n      </button>\n      <button\n        class=\"button modal-button\"\n        type=\"button\"\n        data-action=\"queue\"\n      >\n        ${textContentForQueueButton}\n      </button>\n    </div>\n  </div>\n</div>`;\n\n  modalWindow.firstElementChild.insertAdjacentHTML('afterend', markup);\n}\n\nfunction checkGenres(genresArray) {\n  if (genresArray.length > 2) {\n    return (genresArray =\n      genresArray\n        .slice(0, 2)\n        .map(genre => genre.name)\n        .join(', ') + ', Other');\n  } else if (genresArray.length > 0 && genresArray.length <= 2) {\n    return (genresArray = genresArray.map(genre => genre.name).join(', '));\n  } else {\n    return (genresArray = ' ');\n  }\n}\n\nexport { renderMovieModal, checkGenres };\n","import { addToLocalStorage } from './addToLocalStorage';\nimport { deleteFromLocalStorage } from './deleteFromLocalStorage';\n\nexport function onAddMovie(e) {\n  const addToWatched = 'add to watched';\n  const addToQueue = 'add to queue';\n  const removeFromWatched = 'remove from watched';\n  const removeFromQueue = 'remove from queue';\n  let localStorageKey = '';\n  if (e.target.closest('button')) {\n    if (\n      e.target.closest('button').textContent.trim().toLowerCase() ===\n      addToWatched\n    ) {\n      e.target.closest('button').textContent = removeFromWatched;\n      localStorageKey = e.target.closest('button').dataset.action;\n      addToLocalStorage(localStorageKey);\n    } else if (\n      e.target.closest('button').textContent.trim().toLowerCase() === addToQueue\n    ) {\n      e.target.closest('button').textContent = removeFromQueue;\n      localStorageKey = e.target.closest('button').dataset.action;\n      addToLocalStorage(localStorageKey);\n    } else if (\n      e.target.closest('button').textContent.trim().toLowerCase() ===\n      removeFromWatched\n    ) {\n      e.target.closest('button').textContent = addToWatched;\n      localStorageKey = e.target.closest('button').dataset.action;\n      deleteFromLocalStorage(localStorageKey);\n    } else if (\n      e.target.closest('button').textContent.trim().toLowerCase() ===\n      removeFromQueue\n    ) {\n      e.target.closest('button').textContent = addToQueue;\n      localStorageKey = e.target.closest('button').dataset.action;\n      deleteFromLocalStorage(localStorageKey);\n    }\n  }\n}\n","export function addToLocalStorage(key) {\n  const id = document.querySelector('.information').dataset.id;\n  setItemForButtonTextContent(id, key);\n\n  const genres = document.querySelector('[data-name=\"genres\"]').textContent;\n  const originalTitle = document.querySelector(\n    '[data-name=\"original-title\"]'\n  ).textContent;\n  const overview = document.querySelector('[data-name=\"overview\"]').textContent;\n  const popularity = document.querySelector(\n    '[data-name=\"popularity\"]'\n  ).textContent;\n  const posterPath = document.querySelector('[data-name=\"poster-path\"]').src;\n  const year = document.querySelector('.information').dataset.year;\n  const title = document.querySelector('[data-name=\"title\"]').textContent;\n  const voteAverage = document.querySelector(\n    '[data-name=\"vote-average\"]'\n  ).textContent;\n  const voteCount = document.querySelector(\n    '[data-name=\"vote-count\"]'\n  ).textContent;\n\n  const savedData = JSON.parse(localStorage.getItem(key));\n  if (!savedData) {\n    const movies = [];\n    const movie = {\n      id,\n      genres,\n      originalTitle,\n      overview,\n      popularity,\n      posterPath,\n      year,\n      title,\n      voteAverage,\n      voteCount,\n    };\n    movies.push(movie);\n\n    localStorage.setItem(key, JSON.stringify(movies));\n  } else {\n    const movies = [...savedData];\n    if (movies.every(movie => movie.id !== id)) {\n      const movie = {\n        id,\n        genres,\n        originalTitle,\n        overview,\n        popularity,\n        posterPath,\n        year,\n        title,\n        voteAverage,\n        voteCount,\n      };\n      movies.push(movie);\n\n      localStorage.setItem(key, JSON.stringify(movies));\n    }\n  }\n}\n\nfunction setItemForButtonTextContent(id, key) {\n  const savedData = JSON.parse(localStorage.getItem(id));\n  if (!savedData) {\n    const buttons = [];\n    buttons.push(key);\n    localStorage.setItem(id, JSON.stringify(buttons));\n  } else {\n    const buttons = [...savedData];\n    buttons.push(key);\n    localStorage.setItem(id, JSON.stringify(buttons));\n  }\n}\n","export function deleteFromLocalStorage(key) {\n  const id = document.querySelector('.information').dataset.id;\n  removeItemForButtonTextContent(id, key);\n  const savedData = JSON.parse(localStorage.getItem(key));\n  const movies = [...savedData];\n  const index = movies.findIndex(movie => movie.id === id);\n  movies.splice(index, 1);\n  localStorage.setItem(key, JSON.stringify(movies));\n}\n\nfunction removeItemForButtonTextContent(id, key) {\n  const savedData = JSON.parse(localStorage.getItem(id));\n  const buttons = [...savedData];\n  const index = buttons.indexOf(key);\n  buttons.splice(index, 1);\n\n  if (!buttons.length) {\n    localStorage.removeItem(id);\n  } else {\n    localStorage.setItem(id, JSON.stringify(buttons));\n  }\n}\n","import { API_KEY, BASE_URL } from './keyAndUrl';\nimport { onEscClose } from './modal';\n\nconst trailerBackdrop = document.querySelector('.trailer-wrapper');\nconst trailerContainer = document.querySelector('.iframe-container');\ntrailerBackdrop.addEventListener('click', onTrailerBackdropClick);\n\nasync function fetchTrailer(id) {\n  const response = await fetch(\n    `${BASE_URL}/movie/${id}/videos?api_key=${API_KEY}`\n  );\n  if (!response.ok) {\n    throw new Error(response.status);\n  }\n  return await response.json();\n}\n\nfunction onPlayButtonClick() {\n  const id = document.querySelector('.information').dataset.id;\n\n  fetchTrailer(id)\n    .then(({ results }) => {\n      const trailer = results.find(result => result.type === 'Trailer');\n      const movieKey = trailer.key;\n      const trailerSrc = `https://www.youtube.com/embed/${movieKey}`;\n      renderTrailer(trailerSrc);\n    })\n    .catch(error => console.log(error));\n  trailerBackdrop.classList.remove('is-hidden');\n  document.addEventListener('keydown', onTrailerEscClose);\n  document.removeEventListener('keydown', onEscClose);\n}\n\nfunction renderTrailer(src) {\n  const markup = `<iframe\n        width=\"1280\"\n        height=\"700\"\n        src=\"${src}\"\n        title=\"YouTube Video Player\"\n        frameborder=\"0\"\n        allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\n        allowfullscreen\n      ></iframe>`;\n\n  trailerContainer.innerHTML = markup;\n}\n\nfunction onTrailerBackdropClick(e) {\n  if (e.currentTarget === e.target) {\n    trailerBackdrop.classList.add('is-hidden');\n    document.addEventListener('keydown', onEscClose);\n  }\n}\n\nfunction onTrailerEscClose(e) {\n  if (e.code === 'Escape') {\n    document.removeEventListener('keydown', onTrailerEscClose);\n    document.addEventListener('keydown', onEscClose);\n    trailerBackdrop.classList.add('is-hidden');\n  }\n}\n\nexport { fetchTrailer, onPlayButtonClick, renderTrailer };\n","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"b9auz\\\":\\\"index.18026ad5.js\\\",\\\"frxiO\\\":\\\"placeholder.2262f4e0.png\\\"}\"));"],"names":["$ef7689007096c8a0$export$6503ec6e8aabbaf","$ef7689007096c8a0$export$f7ad0328861e2f03","$ef7689007096c8a0$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","$42eccc3a0c9ada03$export$a9861bd62f48e142","$42eccc3a0c9ada03$export$ca6dda5263526f75","$jxehG","parcelRequire","$a37d68045dfda617$export$853e125793f831c9","genreIds","map","genreId","genres","slice","join","$a37d68045dfda617$export$bc715fab9217bc6f","date","Date","getFullYear","$a37d68045dfda617$export$47bd1ecef6a36067","vote","toFixed","$a37d68045dfda617$export$9d43d63b7f905c9e","src","$parcel$interopDefault","$1zZMY","$e38c2deeb9151833$export$be3a0ca764f9df2b","module","exports","URL","resolve","import","meta","url","toString","$73dc4967cf2e7f68$export$d1927cf3bc385580","container","innerHTML","$2UGQT","$c8ececc2c231c02a$var$movieList","document","querySelector","$c8ececc2c231c02a$var$backdrop","$c8ececc2c231c02a$var$closeButton","$c8ececc2c231c02a$export$518d3e6effb6482","classList","add","body","style","overflow","$c8ececc2c231c02a$export$1dcae825a987e74e","e","code","removeEventListener","addEventListener","target","closest","movieId","dataset","information","remove","fetchMovieDetails","then","movie","$5Gpz0","renderMovieModal","$jD5nR","onAddMovie","$azhP0","onPlayButtonClick","catch","error","console","log","currentTarget","$5KeTa","async","$21f20d49c22cf68e$export$a199ce1860fbd5cd","response","fetch","BASE_URL","API_KEY","ok","status","json","$e2fFv","$4234b46717088263$var$modalWindow","$4234b46717088263$export$350b056a6863db4c","original_title","overview","popularity","poster_path","release_date","title","vote_average","vote_count","addToWatched","addToQueue","removeFromWatched","removeFromQueue","textContentForWatchedButton","textContentForQueueButton","data","JSON","parse","localStorage","getItem","includes","markup","checkImageSrc","roundAverageVote","$4234b46717088263$export$c83215c133ce3384","firstElementChild","insertAdjacentHTML","genresArray","genre","name","$cCskP","$e4a5d5fb849e904a$export$ad32e206764b62c5","localStorageKey","textContent","trim","toLowerCase","action","addToLocalStorage","$an6E8","deleteFromLocalStorage","$92ff03649d5e2e29$export$b4aebac53294aa19","key","savedData","buttons","push","setItem","stringify","$92ff03649d5e2e29$var$setItemForButtonTextContent","originalTitle","posterPath","year","voteAverage","voteCount","movies","every","$78d1352dbaa5d800$export$34a3032bf337a702","index","indexOf","splice","removeItem","$78d1352dbaa5d800$var$removeItemForButtonTextContent","findIndex","$7b1aff46d6b24d0d$var$trailerBackdrop","$7b1aff46d6b24d0d$var$trailerContainer","$7b1aff46d6b24d0d$export$83b68a3f05a90f5a","$7b1aff46d6b24d0d$export$16b5f39e5defaec7","results","$7b1aff46d6b24d0d$export$76326022edea6404","find","result","type","$7b1aff46d6b24d0d$var$onTrailerEscClose","$hfwlf","onEscClose","register"],"version":3,"file":"index.18026ad5.js.map"}