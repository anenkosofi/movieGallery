{"mappings":"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","sources":["src/index.js","src/js-partials/home/movie-service.js","src/js-partials/home/renderMovieList.js","src/js-partials/home/pagination.js","src/js-partials/home/onHomePageLoad.js","src/js-partials/home/onMovieSearch.js"],"sourcesContent":["import './js-partials/home/keyAndUrl';\nimport './js-partials/home/movie-service';\nimport './js-partials/home/onHomePageLoad';\nimport './js-partials/home/genres';\nimport './js-partials/home/functionsForRenderingMovies';\nimport './js-partials/home/renderMovieList';\nimport './js-partials/home/pagination';\nimport './js-partials/home/modal';\nimport './js-partials/home/fetchMovieDetails';\nimport './js-partials/home/renderMovieModal';\nimport './js-partials/home/onAddMovie';\nimport './js-partials/home/addToLocalStorage';\nimport './js-partials/home/deleteFromLocalStorage';\nimport './js-partials/home/onMovieSearch';\n","import { API_KEY, BASE_URL } from './keyAndUrl';\n\nexport async function fetchMovies(page = 1) {\n  const response = await fetch(\n    `${BASE_URL}/trending/movie/day?api_key=${API_KEY}&page=${page}`\n  );\n  if (!response.ok) {\n    throw new Error(response.status);\n  }\n  return await response.json();\n}\n","import {\n  checkImageSrc,\n  genresIdConverter,\n  getFullYear,\n} from './functionsForRenderingMovies';\n\nconst movieList = document.querySelector('.movie-list');\n\nexport function renderMovieList(movies) {\n  const markup = movies\n    .map(\n      ({ id, poster_path, title, genre_ids, release_date }) =>\n        `<li class=\"movie-list__item\" data-id=\"${id}\">\n            <img class=\"movie-image\" ${checkImageSrc(\n              poster_path\n            )} alt=\"Movie poster\" loading=\"lazy\" />\n            <div class=\"movie-descr\">\n              <h2 class=\"movie-title\">${title || 'Unknown'}</h2>\n              <p class=\"movie-info\"><span class=\"genre\">${\n                genresIdConverter(genre_ids) || 'No information'\n              } |</span><span>${\n          getFullYear(release_date) || 'No information'\n        }</span></p>\n            </div>\n        </li>`\n    )\n    .join('');\n  movieList.innerHTML = markup;\n}\n","import { fetchMovies } from './movie-service';\nimport { renderMovieList } from './renderMovieList';\nimport { clearMarkup } from './clearMarkup';\n\nconst movieList = document.querySelector('.movie-list');\nconst paginationList = document.querySelector('.pagination-list');\nconst paginationContainer = document.querySelector('.pagination');\nconst bodyRect = document.querySelector('body').getBoundingClientRect();\n\nfunction onBackwardButtonClick() {\n  const buttons = document.querySelectorAll('.pagination-button');\n  [...buttons].map(button => {\n    if (button.classList.contains('active')) {\n      const currentPageNumber = Number(button.textContent);\n      const pageNumberToClick = currentPageNumber - 1;\n      fetchMovies(pageNumberToClick)\n        .then(({ results }) => {\n          renderMovieList(results);\n        })\n        .catch(error => console.log(error));\n      clearMarkup(paginationList);\n      makePagination(pageNumberToClick);\n      makeButtonDisabled(pageNumberToClick);\n      makeButtonActive(pageNumberToClick);\n    }\n  });\n}\n\nfunction onForwardButtonClick() {\n  const buttons = document.querySelectorAll('.pagination-button');\n  [...buttons].map(button => {\n    if (button.classList.contains('active')) {\n      const currentPageNumber = Number(button.textContent);\n      const pageNumberToClick = currentPageNumber + 1;\n      fetchMovies(pageNumberToClick)\n        .then(({ results }) => {\n          renderMovieList(results);\n        })\n        .catch(error => console.log(error));\n      clearMarkup(paginationList);\n      makePagination(pageNumberToClick);\n      makeButtonDisabled(pageNumberToClick);\n      makeButtonActive(pageNumberToClick);\n    }\n  });\n}\n\nfunction makeButtonDisabled(pageNumber) {\n  const firstChild = paginationContainer.firstElementChild;\n  const lastChild = paginationContainer.lastElementChild;\n  if (pageNumber === 1) {\n    firstChild.disabled = 'true';\n    if (lastChild.hasAttribute('disabled')) {\n      lastChild.removeAttribute('disabled');\n    }\n  } else if (pageNumber === 20) {\n    lastChild.disabled = 'true';\n    if (firstChild.hasAttribute('disabled')) {\n      firstChild.removeAttribute('disabled');\n    }\n  } else {\n    if (firstChild.hasAttribute('disabled')) {\n      firstChild.removeAttribute('disabled');\n    }\n    if (lastChild.hasAttribute('disabled')) {\n      lastChild.removeAttribute('disabled');\n    }\n  }\n}\n\nfunction buttonMarkup(array) {\n  const markup = array\n    .map(\n      pageNumber =>\n        `<li class=\"pagination-item\">\n          <button class=\"pagination-button\" type=\"button\">${pageNumber}</button>\n        </li>`\n    )\n    .join('');\n\n  return markup;\n}\n\nfunction makePagination(quantity) {\n  let buttonArray = [];\n  let paginationMarkup = '';\n  let numberOfButtons = 0;\n  const dots =\n    '<li class=\"pagination-item\"><button class=\"pagination-button\" type=\"button\" disabled>...</button></li>';\n  const firstButton =\n    '<li class=\"pagination-item\"><button class=\"pagination-button\" type=\"button\">1</button></li>';\n\n  const lastButton =\n    '<li class=\"pagination-item\"><button class=\"pagination-button\" type=\"button\">20</button></li>';\n\n  if (quantity >= 1 && quantity <= 3) {\n    numberOfButtons = 5;\n    for (let i = 1; i <= numberOfButtons; i += 1) {\n      buttonArray.push(i);\n    }\n    if (bodyRect.width < 768) {\n      const markup = buttonMarkup(buttonArray);\n      paginationMarkup = `${markup}`;\n    } else {\n      const markup = buttonMarkup(buttonArray);\n      paginationMarkup = `${markup} ${dots} ${lastButton}`;\n    }\n  } else if (quantity > 3 && quantity < 18) {\n    numberOfButtons = quantity + 2;\n    const startButton = quantity - 2;\n    for (let i = startButton; i <= numberOfButtons; i += 1) {\n      buttonArray.push(i);\n    }\n    if (bodyRect.width < 768) {\n      const markup = buttonMarkup(buttonArray);\n      paginationMarkup = `${markup}`;\n    } else {\n      const markup = buttonMarkup(buttonArray);\n      paginationMarkup = `${firstButton} ${dots} ${markup} ${dots} ${lastButton}`;\n    }\n  } else if (quantity >= 18) {\n    for (let i = 16; i <= 20; i += 1) {\n      buttonArray.push(i);\n    }\n    if (bodyRect.width < 768) {\n      const markup = buttonMarkup(buttonArray);\n      paginationMarkup = `${markup}`;\n    } else {\n      const markup = buttonMarkup(buttonArray);\n      paginationMarkup = `${firstButton} ${dots} ${markup}`;\n    }\n  }\n\n  paginationList.innerHTML = paginationMarkup;\n}\n\nfunction makeButtonActive(number) {\n  const buttons = document.querySelectorAll('.pagination-button');\n  [...buttons].map(button => {\n    if (button.classList.contains('active')) {\n      button.classList.remove('active');\n    }\n    if (Number(button.textContent) === number) {\n      button.classList.add('active');\n    }\n  });\n}\n\nfunction onButtonClick(e) {\n  if (e.target.nodeName !== 'BUTTON') {\n    return;\n  }\n  if (e.target.textContent) {\n    const pageNumber = Number(e.target.textContent);\n    clearMarkup(movieList);\n    fetchMovies(pageNumber)\n      .then(({ results }) => {\n        renderMovieList(results);\n      })\n      .catch(error => console.log(error));\n    clearMarkup(paginationList);\n    makePagination(pageNumber);\n    makeButtonDisabled(pageNumber);\n    makeButtonActive(pageNumber);\n  }\n}\nexport {\n  onBackwardButtonClick,\n  onForwardButtonClick,\n  makeButtonDisabled,\n  buttonMarkup,\n  makePagination,\n  makeButtonActive,\n  onButtonClick,\n};\n","import { fetchMovies } from './movie-service';\nimport { renderMovieList } from './renderMovieList';\nimport {\n  onBackwardButtonClick,\n  onForwardButtonClick,\n  makeButtonDisabled,\n  makePagination,\n  makeButtonActive,\n  onButtonClick,\n} from './pagination';\n\nconst paginationList = document.querySelector('.pagination-list');\n\nonHomePageLoad();\n\nfunction onHomePageLoad() {\n  let pageNumber = 1;\n\n  fetchMovies()\n    .then(({ results }) => renderMovieList(results))\n    .catch(error => console.log(error));\n\n  makePagination(pageNumber);\n  makeButtonDisabled(pageNumber);\n  makeButtonActive(pageNumber);\n\n  paginationList.addEventListener('click', onButtonClick);\n  const backwardButton = document.querySelector('.arrow-left');\n  const forwardButton = document.querySelector('.arrow-right');\n  backwardButton.classList.remove('is-hidden');\n  forwardButton.classList.remove('is-hidden');\n  backwardButton.addEventListener('click', onBackwardButtonClick);\n  forwardButton.addEventListener('click', onForwardButtonClick);\n}\n","import { API_KEY, BASE_URL } from './keyAndUrl';\nimport { renderMovieList } from './renderMovieList';\nimport { clearMarkup } from './clearMarkup';\n\nconst paginationList = document.querySelector('.pagination-list');\nconst resultList = document.querySelector('.results-list');\nconst error = document.querySelector('.error-message');\n\nconst form = document.querySelector('.form');\nform.addEventListener('submit', onMovieSearch);\n\nasync function fetchMoviesInSearchLine(query) {\n  const response = await fetch(\n    `${BASE_URL}/search/movie?api_key=${API_KEY}&query=${query}`\n  );\n  if (!response.ok) {\n    throw new Error(response.status);\n  }\n  return await response.json();\n}\n\nfunction onMovieSearch(e) {\n  e.preventDefault();\n\n  const searchQuery = e.currentTarget.elements.searchQuery.value\n    .trim()\n    .toLowerCase();\n  fetchMoviesInSearchLine(searchQuery)\n    .then(({ results }) => {\n      resultList.classList.add('is-hidden');\n      renderMovieList(results);\n    })\n    .catch(error => console.log(error));\n\n  const backwardButton = document.querySelector('.arrow-left');\n  const forwardButton = document.querySelector('.arrow-right');\n  backwardButton.classList.add('is-hidden');\n  forwardButton.classList.add('is-hidden');\n  clearMarkup(paginationList);\n  form.reset();\n}\n\nconst input = document.querySelector('.form-input');\n\ninput.addEventListener('input', onInputChange);\n\nfunction onInputChange(e) {\n  const searchQuery = e.target.value.trim().toLowerCase();\n\n  if (!searchQuery) {\n    form.classList.remove('input-change');\n    resultList.classList.add('is-hidden');\n  } else {\n    fetchMoviesInSearchLine(searchQuery)\n      .then(({ results, total_results }) => {\n        if (!total_results) {\n          error.classList.add('is-shown');\n          form.classList.remove('input-change');\n          resultList.classList.add('is-hidden');\n        } else {\n          error.classList.remove('is-shown');\n          form.classList.add('input-change');\n          resultList.classList.remove('is-hidden');\n          renderSearchQueryList(results);\n        }\n      })\n      .catch(error => console.log(error));\n  }\n\n  const backwardButton = document.querySelector('.arrow-left');\n  const forwardButton = document.querySelector('.arrow-right');\n  backwardButton.classList.add('is-hidden');\n  forwardButton.classList.add('is-hidden');\n  clearMarkup(paginationList);\n}\n\nfunction renderSearchQueryList(results) {\n  const markup = results\n    .map(\n      ({ id, title }) =>\n        `<li class=\"results-item\" data-id=\"${id}\">${title}</li>`\n    )\n    .join('');\n  resultList.innerHTML = markup;\n}\n"],"names":["parcelRequire","$5KeTa","async","$97b1663d2c275ce2$export$88181abcadffafee","page","response","fetch","BASE_URL","API_KEY","ok","Error","status","json","$e2fFv","$df46c34519135e1f$var$movieList","document","querySelector","$df46c34519135e1f$export$42788b849dfd69ff","movies","markup","map","id","poster_path","title","genre_ids","release_date","checkImageSrc","genresIdConverter","getFullYear","join","innerHTML","$935f8476fc6622bf$var$movieList","$935f8476fc6622bf$var$paginationList","$935f8476fc6622bf$var$paginationContainer","$935f8476fc6622bf$var$bodyRect","getBoundingClientRect","$935f8476fc6622bf$export$30e277bf6f54bc40","querySelectorAll","button","classList","contains","pageNumberToClick","Number","textContent","then","results","catch","error","console","log","$9WIO2","clearMarkup","$935f8476fc6622bf$export$a584d38fda452a59","$935f8476fc6622bf$export$33d283e0dc99b183","$935f8476fc6622bf$export$32fa3074bf047cbd","$935f8476fc6622bf$export$84b71e7a582a314b","pageNumber","firstChild","firstElementChild","lastChild","lastElementChild","disabled","hasAttribute","removeAttribute","$935f8476fc6622bf$export$dbd962f1e599f239","array","quantity","buttonArray","paginationMarkup","numberOfButtons","dots","firstButton","lastButton","i","push","width","number","remove","add","$935f8476fc6622bf$export$d5ea306ea69a0402","e","target","nodeName","$7a2aa998eb39d3f2$var$paginationList","addEventListener","backwardButton","forwardButton","$7a2aa998eb39d3f2$var$onHomePageLoad","$340c8ec163884513$var$paginationList","$340c8ec163884513$var$resultList","$340c8ec163884513$var$error","$340c8ec163884513$var$form","$340c8ec163884513$var$fetchMoviesInSearchLine","query","preventDefault","currentTarget","elements","searchQuery","value","trim","toLowerCase","error1","reset","total_results","$340c8ec163884513$var$renderSearchQueryList","error2"],"version":3,"file":"index.7d0f6984.js.map"}