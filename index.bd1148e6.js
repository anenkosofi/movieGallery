var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},o=e.parcelRequired7c6;null==o&&((o=function(e){if(e in t)return t[e].exports;if(e in n){var o=n[e];delete n[e];var i={id:e,exports:{}};return t[e]=i,o.call(i.exports,i,i.exports),i.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){n[e]=t},e.parcelRequired7c6=o),o("5KeTa");var i=o("5KeTa");async function s(e=1){const t=await fetch(`${i.BASE_URL}/trending/movie/day?api_key=${i.API_KEY}&page=${e}`);if(!t.ok)throw new Error(t.status);return await t.json()}var l=o("e2fFv");const a=document.querySelector(".movie-list");function r(e){const t=e.map((({id:e,poster_path:t,title:n,genre_ids:o,release_date:i})=>`<li class="movie-list__item" data-id="${e}">\n            <img class="movie-image" ${(0,l.checkImageSrc)(t)} alt="Movie poster" loading="lazy" />\n            <div class="movie-descr">\n              <h2 class="movie-title">${(0,l.checkTitle)(n)}</h2>\n              <p class="movie-info"><span class="genre">${(0,l.genresIdConverter)(o)} |</span><span>${(0,l.getFullYear)(i)}</span></p>\n            </div>\n        </li>`)).join("");a.innerHTML=t}var c=o("9WIO2");const d=document.querySelector(".movie-list"),u=document.querySelector(".pagination-list"),m=document.querySelector(".pagination"),h=document.querySelector("body").getBoundingClientRect();function p(){[...document.querySelectorAll(".pagination-button")].map((e=>{if(e.classList.contains("active")){const t=Number(e.textContent)-1;s(t).then((({results:e,total_pages:n})=>{r(e);const{height:o}=document.querySelector(".movie-list").firstElementChild.getBoundingClientRect();window.scrollBy({top:7*-o,behavior:"smooth"}),(0,c.clearMarkup)(u),b(t,n),f(t,n),y(t)})).catch((e=>console.log(e)))}}))}function g(){[...document.querySelectorAll(".pagination-button")].map((e=>{if(e.classList.contains("active")){const t=Number(e.textContent)+1;s(t).then((({results:e,total_pages:n})=>{r(e);const{height:o}=document.querySelector(".movie-list").firstElementChild.getBoundingClientRect();window.scrollBy({top:7*-o,behavior:"smooth"}),(0,c.clearMarkup)(u),b(t,n),f(t,n),y(t)})).catch((e=>console.log(e)))}}))}function f(e,t){const n=m.firstElementChild,o=m.lastElementChild;1===e?(n.disabled="true",o.hasAttribute("disabled")&&o.removeAttribute("disabled")):e===t?(o.disabled="true",n.hasAttribute("disabled")&&n.removeAttribute("disabled")):(n.hasAttribute("disabled")&&n.removeAttribute("disabled"),o.hasAttribute("disabled")&&o.removeAttribute("disabled"))}function v(e){return e.map((e=>`<li class="pagination-item">\n          <button class="pagination-button" type="button">${e}</button>\n        </li>`)).join("")}function b(e,t){let n=[],o="",i=0;const s='<li class="pagination-item"><button class="pagination-button" type="button" disabled>...</button></li>',l='<li class="pagination-item"><button class="pagination-button" type="button">1</button></li>',a=`<li class="pagination-item"><button class="pagination-button" type="button">${t}</button></li>`;if(t<=6)if(h.width<768){if(6===t){if(e>=1&&e<=3){i=5;for(let e=1;e<=i;e+=1)n.push(e)}else if(e>=4&&e<=6){i=5;for(let e=2;e<=i;e+=1)n.push(e)}o=`${v(n)}`}else if(t<=5){for(let e=1;e<=t;e+=1)n.push(e);o=`${v(n)}`}}else{for(let e=1;e<=t;e+=1)n.push(e);o=`${v(n)}`}else if(t>6)if(e>=1&&e<=4){i=5;for(let e=1;e<=i;e+=1)n.push(e);if(h.width<768){o=`${v(n)}`}else{o=`${v(n)} ${s} ${a}`}}else if(e>=5&&e<=t-4){i=e+2;for(let t=e-2;t<=i;t+=1)n.push(t);if(h.width<768){o=`${v(n)}`}else{o=`${l} ${s} ${v(n)} ${s} ${a}`}}else if(e>t-4){for(let e=t-4;e<=t;e+=1)n.push(e);if(h.width<768){o=`${v(n)}`}else{o=`${l} ${s} ${v(n)}`}}u.innerHTML=o}function y(e){[...document.querySelectorAll(".pagination-button")].find((t=>{t.classList.contains("active")&&t.classList.remove("active"),Number(t.textContent)===e&&t.classList.add("active")}))}function w(e){if("BUTTON"===e.target.nodeName&&e.target.textContent){const t=Number(e.target.textContent);(0,c.clearMarkup)(d),s(t).then((({results:e,total_pages:n})=>{r(e);const{height:o}=document.querySelector(".movie-list").firstElementChild.getBoundingClientRect();window.scrollBy({top:7*-o,behavior:"smooth"}),(0,c.clearMarkup)(u),b(t,n),f(t),y(t)})).catch((e=>console.log(e)))}}const L=document.querySelector(".pagination-list");!function(){document.body.style.overflow="hidden";s().then((({results:e,total_pages:t})=>{r(e),b(1,t),f(1,t),y(1)})).catch((e=>console.log(e))),L.addEventListener("click",w);const e=document.querySelector(".arrow-left"),t=document.querySelector(".arrow-right");e.classList.remove("is-hidden"),t.classList.remove("is-hidden"),e.addEventListener("click",p),t.addEventListener("click",g),window.onload=e=>{setTimeout((()=>{document.querySelector(".loader-wrapper").classList.add("turn-off")}),250)},document.body.style.overflow="visible"}(),o("jxehG"),o("e2fFv"),o("hfwlf"),o("2UGQT"),o("5Gpz0"),o("jD5nR"),o("cCskP"),o("an6E8");i=o("5KeTa"),c=o("9WIO2"),l=o("e2fFv");var $=o("2UGQT"),S=o("5Gpz0");const q=document.querySelector(".movie-list"),C=document.querySelector(".pagination-list"),E=document.querySelector(".results-list"),k=document.querySelector(".error-message"),_=document.querySelector(".form");_.addEventListener("submit",(function(e){e.preventDefault();const t=e.currentTarget.elements.searchQuery.value.trim().toLowerCase();if(!t)return;{let e=1;T(t).then((({results:t,total_results:n,total_pages:o})=>{n?(E.classList.add("is-hidden"),_.classList.remove("input-change"),r(t),b(e,o),f(e),y(e)):k.classList.remove("is-shown")})).catch((e=>console.log(e))),C.addEventListener("click",(e=>{if("BUTTON"===e.target.nodeName&&e.target.textContent){const n=Number(e.target.textContent);(0,c.clearMarkup)(q),T(t,n).then((({results:e,total_pages:t})=>{r(e);const{height:o}=document.querySelector(".movie-list").firstElementChild.getBoundingClientRect();window.scrollBy({top:7*-o,behavior:"smooth"}),(0,c.clearMarkup)(C),b(n,t),f(n,t),y(n)})).catch((e=>console.log(e)))}}));const n=document.querySelector(".arrow-left"),o=document.querySelector(".arrow-right");n.classList.remove("is-hidden"),o.classList.remove("is-hidden"),n.removeEventListener("click",p),n.addEventListener("click",(()=>{[...document.querySelectorAll(".pagination-button")].find((e=>{if(e.classList.contains("active")){const n=Number(e.textContent)-1;T(t,n).then((({results:e,total_pages:t})=>{r(e);const{height:o}=document.querySelector(".movie-list").firstElementChild.getBoundingClientRect();window.scrollBy({top:7*-o,behavior:"smooth"}),(0,c.clearMarkup)(C),b(n,t),f(n,t),y(n)})).catch((e=>console.log(e)))}}))})),o.removeEventListener("click",g),o.addEventListener("click",(()=>{[...document.querySelectorAll(".pagination-button")].find((e=>{if(e.classList.contains("active")){const n=Number(e.textContent)+1;T(t,n).then((({results:e,total_pages:t})=>{r(e);const{height:o}=document.querySelector(".movie-list").firstElementChild.getBoundingClientRect();window.scrollBy({top:7*-o,behavior:"smooth"}),(0,c.clearMarkup)(C),b(n,t),f(n,t),y(n)})).catch((e=>console.log(e)))}}))}))}_.reset()}));async function T(e,t=1){const n=await fetch(`${i.BASE_URL}/search/movie?api_key=${i.API_KEY}&query=${e}&page=${t}`);if(!n.ok)throw new Error(n.status);return await n.json()}document.querySelector(".form-input").addEventListener("input",(function(e){const t=e.target.value.trim().toLowerCase();t?T(t).then((({results:e,total_results:t})=>{t?(k.classList.remove("is-shown"),_.classList.add("input-change"),E.classList.remove("is-hidden"),function(e){const t=e.map((({id:e,title:t})=>`<li class="results-item" data-id="${e}">\n          <span class="title">${t}</span>\n          <span class="delimeter">|</span>\n          <span class="year">2022</span>\n          <span class="vote">7.8</span>\n        </li>`)).join("");E.innerHTML=t}(e)):(k.classList.add("is-shown"),_.classList.remove("input-change"),E.classList.add("is-hidden"))})).catch((e=>console.log(e))):(_.classList.remove("input-change"),E.classList.add("is-hidden"))})),E.addEventListener("click",(function(e){if(!e.target.closest("li"))return;if(e.target.closest("li")){const t=e.target.closest("li").dataset.id;(0,$.fetchMovieDetails)(t).then((e=>function({id:e,poster_path:t,title:n,genres:o,release_date:i}){const s=`<li class="movie-list__item" data-id="${e}">\n            <img class="movie-image" ${(0,l.checkImageSrc)(t)} alt="Movie poster" loading="lazy" />\n            <div class="movie-descr">\n              <h2 class="movie-title">${n||"Unknown"}</h2>\n              <p class="movie-info"><span class="genre">${(0,S.checkGenres)(o)||"No information"} |</span><span>${(0,l.getFullYear)(i)||"No information"}</span></p>\n            </div>\n        </li>`;q.innerHTML=s}(e))).catch((e=>console.log(e))),_.classList.remove("input-change"),E.classList.add("is-hidden"),_.reset(),(0,c.clearMarkup)(C),b(1,1),f(1,1),y(1);const n=document.querySelector(".arrow-left"),o=document.querySelector(".arrow-right");n.classList.remove("is-hidden"),o.classList.remove("is-hidden"),n.disabled=!0,o.disabled=!0}})),o("azhP0");const B=document.querySelector(".scroll-button"),M=document.querySelector("header");new IntersectionObserver((function(e,t){e.forEach((e=>{e.isIntersecting?e.isIntersecting&&B.classList.add("is-hidden"):B.classList.remove("is-hidden")}))}),{root:null,rootMargin:"100px",threshold:0}).observe(M),B.addEventListener("click",(function(){const e=document.querySelector("body").getBoundingClientRect();window.scrollBy({top:e.top,behavior:"smooth"}),setTimeout((()=>{B.classList.add("is-hidden")}),250)}));
//# sourceMappingURL=index.bd1148e6.js.map
