const t=document.querySelector(".movie-list"),n=document.querySelector(".pagination-list");async function e(t=1){const n=await fetch(`https://api.themoviedb.org/3/trending/movie/day?api_key=bfcd7a06a5bb09fb5aafe756d2f60f73&page=${t}`);if(!n.ok)throw new Error(n.status);return await n.json()}e().then((({results:t})=>{a(t),s(1),c(1),n.addEventListener("click",l)})).catch((t=>console.log(t)));const i={12:"Adventure",14:"Fantasy",16:"Animation",18:"Drama",27:"Horror",28:"Action",35:"Comedy",36:"History",37:"Western",53:"Thriller",80:"Crime",99:"Documentary",878:"Science Fiction",9648:"Mystery",10402:"Music",10749:"Romance",10751:"Family",10752:"War",10770:"TV Movie"};function a(n){const e=n.map((({poster_path:t,title:n,genre_ids:e,release_date:a})=>{return`<li class="movie-list__item">\n          <a class="movie-link" href="" data-modal-open>\n            <img class="movie-image" src="https://image.tmdb.org/t/p/w500${t}" alt="" width="375" />\n            <div class="movie-descr">\n              <h2 class="movie-title">${n}</h2>\n              <p class="movie-info">${s=e,s.map((t=>i[t])).slice(0,2).join(", ")} | ${o=a,new Date(o).getFullYear()}</p>\n            </div>\n          </a>\n        </li>`;var o,s})).join("");t.innerHTML=e}function o(t){return t.map((t=>`<li class="pagination-item">\n          <button class="pagination-button" type="button">${t}</button>\n        </li>`)).join("")}function s(t){let e=[],i="",a=0;const s='<li class="pagination-item"><button class="pagination-button" type="button">...</button></li>',c='<li class="pagination-item"><button class="pagination-button" type="button">1</button></li>',r='<li class="pagination-item"><button class="pagination-button" type="button">20</button></li>';if(t>=1&&t<=3){a=5;for(let t=1;t<=a;t+=1)e.push(t);i=`${o(e)} ${s} ${r}`}if(t>3&&t<18){a=t+2;for(let n=t-2;n<=a;n+=1)e.push(n);i=`${c} ${s} ${o(e)} ${s} ${r}`}if(t>=18){for(let t=16;t<=20;t+=1)e.push(t);i=`${c} ${s} ${o(e)}`}n.innerHTML=i}function c(t){[...document.querySelectorAll(".pagination-button")].map((n=>{n.classList.contains("active")&&n.classList.remove("active"),n.textContent==t&&n.classList.add("active")}))}function r(t){t.innerHTML=""}function l(i){console.dir(i.target),"BUTTON"===i.target.nodeName&&i.target.textContent&&(pageNumber=Number(i.target.textContent),r(t),e(pageNumber).then((({results:t})=>{a(t)})).catch((t=>console.log(t))),r(n),s(pageNumber),c(pageNumber))}
//# sourceMappingURL=index.01567a4f.js.map
