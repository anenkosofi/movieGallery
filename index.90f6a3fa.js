function e(e,t,n,o){Object.defineProperty(e,t,{get:n,set:o,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},r={},i=n.parcelRequired7c6;null==i&&((i=function(e){if(e in o)return o[e].exports;if(e in r){var t=r[e];delete r[e];var n={id:e,exports:{}};return o[e]=n,t.call(n.exports,n,n.exports),n.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){r[e]=t},n.parcelRequired7c6=i),i.register("kyEFX",(function(t,n){var o,r;e(t.exports,"register",(function(){return o}),(function(e){return o=e})),e(t.exports,"resolve",(function(){return r}),(function(e){return r=e}));var i={};o=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)i[t[n]]=e[t[n]]},r=function(e){var t=i[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),i.register("5KeTa",(function(t,n){e(t.exports,"API_KEY",(function(){return o})),e(t.exports,"BASE_URL",(function(){return r}));const o="bfcd7a06a5bb09fb5aafe756d2f60f73",r="https://api.themoviedb.org/3"})),i.register("e2fFv",(function(n,o){e(n.exports,"genresIdConverter",(function(){return c})),e(n.exports,"getFullYear",(function(){return s})),e(n.exports,"roundAverageVote",(function(){return l})),e(n.exports,"checkImageSrc",(function(){return u})),e(n.exports,"checkGenres",(function(){return d})),e(n.exports,"checkDescription",(function(){return m})),e(n.exports,"checkTitle",(function(){return f}));var r=i("jxehG"),a=i("1zZMY");function c(e){return e.length>2?e.map((e=>r.genres[e])).slice(0,2).join(", ")+", Other":e.length>0&&e.length<=2?e.map((e=>r.genres[e])).join(", "):"No Information"}function s(e){if(e){return new Date(e).getFullYear()}return"No information"}function l(e){return e.toFixed(1)}function u(e){return e?`src="https://image.tmdb.org/t/p/w500${e}"`:`src="${t(a)}"`}function d(e){return e.length>2?e.slice(0,2).map((e=>e.name)).join(", ")+", Other":e.length>0&&e.length<=2?e.map((e=>e.name)).join(", "):"No information"}function m(e){if(e){return e}return"No description"}function f(e){if(e){return e}return"No titleName"}})),i.register("jxehG",(function(t,n){e(t.exports,"genres",(function(){return o}));const o={12:"Adventure",14:"Fantasy",16:"Animation",18:"Drama",27:"Horror",28:"Action",35:"Comedy",36:"History",37:"Western",53:"Thriller",80:"Crime",99:"Documentary",878:"Sci-Fi",9648:"Mystery",10402:"Music",10749:"Romance",10751:"Family",10752:"War",10770:"TV Movie"}})),i.register("1zZMY",(function(e,t){e.exports=new URL(i("kyEFX").resolve("frxiO"),import.meta.url).toString()})),i.register("9WIO2",(function(t,n){function o(e){e.innerHTML=""}e(t.exports,"clearMarkup",(function(){return o}))})),i.register("hfwlf",(function(t,n){e(t.exports,"onEscClose",(function(){return m}));var o=i("2UGQT"),r=i("5Gpz0"),a=i("jD5nR"),c=i("azhP0");const s=document.querySelector(".movie-list"),l=document.querySelector(".backdrop"),u=document.querySelector(".close-button");function d(){l.classList.add("is-hidden"),document.body.style.overflow="visible"}function m(e){"Escape"===e.code&&(document.removeEventListener("keydown",m),d())}s.addEventListener("click",(function(e){if(!e.target.closest("li"))return;if(e.target.closest("li")){const t=e.target.closest("li").dataset.id,n=document.querySelector(".information");n&&n.remove(),(0,o.fetchMovieDetails)(t).then((e=>{(0,r.renderMovieModal)(e);document.querySelector('[data-name="modal-wrapper"]').addEventListener("click",a.onAddMovie);document.querySelector(".circle").addEventListener("click",c.onPlayButtonClick)})).catch((e=>console.log(e))),document.body.style.overflow="hidden",l.classList.remove("is-hidden"),document.addEventListener("keydown",m)}})),u.addEventListener("click",d),l.addEventListener("click",(function(e){e.currentTarget===e.target&&d()}))})),i.register("2UGQT",(function(t,n){e(t.exports,"fetchMovieDetails",(function(){return r}));var o=i("5KeTa");async function r(e){const t=await fetch(`${o.BASE_URL}/movie/${e}?api_key=${o.API_KEY}`);if(!t.ok)throw new Error(t.status);return await t.json()}})),i.register("5Gpz0",(function(t,n){e(t.exports,"renderMovieModal",(function(){return a})),e(t.exports,"checkGenres",(function(){return i("e2fFv").checkGenres}));var o=i("e2fFv");const r=document.querySelector(".modal");function a({id:e,genres:t,original_title:n,overview:i,popularity:a,poster_path:c,release_date:s,title:l,vote_average:u,vote_count:d}){const m="add to watched",f="add to queue",p="remove from watched",g="remove from queue";let v="",h="";const y=JSON.parse(localStorage.getItem(e));y&&1===y.length&&y.includes("watched")?(v=p,h=f):y&&1===y.length&&y.includes("queue")?(h=g,v=m):y&&2===y.length?(v=p,h=g):(v=m,h=f);const w=`<div class="information" data-id="${e}" data-year="${(0,o.getFullYear)(s)}"><div class="trailer"><img ${(0,o.checkImageSrc)(c)} alt="Movie poster" data-name="poster-path" />\n    <div class="overlay">\n    <div class="circle"><svg width="60" height="60" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">\n        <path d="M16 0c-8.837 0-16 7.163-16 16s7.163 16 16 16 16-7.163 16-16-7.163-16-16-16zM16 29c-7.18 0-13-5.82-13-13s5.82-13 13-13 13 5.82 13 13-5.82 13-13 13zM12 9l12 7-12 7z"></path>\n        </svg></div>\n    </div>\n  </div>\n    <div class="movie-details">\n      <h3 class="movie-heading" data-name="title">${(0,o.checkTitle)(l)}</h3>\n      <ul class="movie-list-info">\n        <li class="movie-list-info__item">\n          <p class="movie-testimonial">Vote / Votes</p>\n          <p class="movie-mark">\n            <span class="rating" data-name="vote-average">${(0,o.roundAverageVote)(u)}</span><span class="delimeter">/</span\n            ><span class="quantity" data-name="vote-count">${d}</span>\n          </p>\n        </li>\n        <li class="movie-list-info__item">\n          <p class="movie-testimonial">Popularity</p>\n          <p class="movie-mark" data-name="popularity">${(0,o.roundAverageVote)(a)}</p>\n        </li>\n        <li class="movie-list-info__item">\n          <p class="movie-testimonial">Original Title</p>\n          <p class="movie-mark movie-mark--original-title" data-name="original-title">${n}</p>\n        </li>\n        <li class="movie-list-info__item">\n          <p class="movie-testimonial">Genre</p>\n          <p class="movie-mark" data-name="genres">${(0,o.checkGenres)(t)}</p>\n        </li>\n      </ul>\n      <p class="about">About</p>\n      <p class="about-descr" data-name="overview">${(0,o.checkDescription)(i)}</p>\n      <div class="modal-wrapper" data-name="modal-wrapper">\n      <button class="button modal-button" type="button" data-action="watched">\n        ${v}\n      </button>\n      <button\n        class="button modal-button"\n        type="button"\n        data-action="queue"\n      >\n        ${h}\n      </button>\n    </div>\n  </div>\n</div>`;r.firstElementChild.insertAdjacentHTML("afterend",w)}})),i.register("jD5nR",(function(t,n){e(t.exports,"onAddMovie",(function(){return a}));var o=i("cCskP"),r=i("an6E8");function a(e){const t="add to watched",n="add to queue",i="remove from watched",a="remove from queue";let c="";e.target.closest("button")&&(e.target.closest("button").textContent.trim().toLowerCase()===t?(e.target.closest("button").textContent=i,c=e.target.closest("button").dataset.action,(0,o.addToLocalStorage)(c)):e.target.closest("button").textContent.trim().toLowerCase()===n?(e.target.closest("button").textContent=a,c=e.target.closest("button").dataset.action,(0,o.addToLocalStorage)(c)):e.target.closest("button").textContent.trim().toLowerCase()===i?(e.target.closest("button").textContent=t,c=e.target.closest("button").dataset.action,(0,r.deleteFromLocalStorage)(c)):e.target.closest("button").textContent.trim().toLowerCase()===a&&(e.target.closest("button").textContent=n,c=e.target.closest("button").dataset.action,(0,r.deleteFromLocalStorage)(c)))}})),i.register("cCskP",(function(t,n){function o(e){const t=document.querySelector(".information").dataset.id;!function(e,t){const n=JSON.parse(localStorage.getItem(e));if(n){const o=[...n];o.push(t),localStorage.setItem(e,JSON.stringify(o))}else{const n=[];n.push(t),localStorage.setItem(e,JSON.stringify(n))}}(t,e);const n=document.querySelector('[data-name="genres"]').textContent,o=document.querySelector('[data-name="original-title"]').textContent,r=document.querySelector('[data-name="overview"]').textContent,i=document.querySelector('[data-name="popularity"]').textContent,a=document.querySelector('[data-name="poster-path"]').src,c=document.querySelector(".information").dataset.year,s=document.querySelector('[data-name="title"]').textContent,l=document.querySelector('[data-name="vote-average"]').textContent,u=document.querySelector('[data-name="vote-count"]').textContent,d=JSON.parse(localStorage.getItem(e));if(d){const m=[...d];if(m.every((e=>e.id!==t))){const d={id:t,genres:n,originalTitle:o,overview:r,popularity:i,posterPath:a,year:c,title:s,voteAverage:l,voteCount:u};m.push(d),localStorage.setItem(e,JSON.stringify(m))}}else{const d=[],m={id:t,genres:n,originalTitle:o,overview:r,popularity:i,posterPath:a,year:c,title:s,voteAverage:l,voteCount:u};d.push(m),localStorage.setItem(e,JSON.stringify(d))}}e(t.exports,"addToLocalStorage",(function(){return o}))})),i.register("an6E8",(function(t,n){function o(e){const t=document.querySelector(".information").dataset.id;!function(e,t){const n=[...JSON.parse(localStorage.getItem(e))],o=n.indexOf(t);n.splice(o,1),n.length?localStorage.setItem(e,JSON.stringify(n)):localStorage.removeItem(e)}(t,e);const n=[...JSON.parse(localStorage.getItem(e))],o=n.findIndex((e=>e.id===t));n.splice(o,1),localStorage.setItem(e,JSON.stringify(n))}e(t.exports,"deleteFromLocalStorage",(function(){return o}))})),i.register("azhP0",(function(t,n){e(t.exports,"onPlayButtonClick",(function(){return s}));var o=i("5KeTa"),r=i("hfwlf");const a=document.querySelector(".trailer-wrapper"),c=document.querySelector(".iframe-container");function s(){(async function(e){const t=await fetch(`${o.BASE_URL}/movie/${e}/videos?api_key=${o.API_KEY}`);if(!t.ok)throw new Error(t.status);return await t.json()})(document.querySelector(".information").dataset.id).then((({results:e})=>{if(e.length){!function(e){const t=`<iframe\n        width="1280"\n        height="700"\n        src="${e}"\n        title="YouTube Video Player"\n        frameborder="0"\n        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"\n        allowfullscreen\n      ></iframe>`;c.innerHTML=t}(`https://www.youtube.com/embed/${e.find((e=>"Trailer"===e.type)).key}`)}else!function(){const e='<img\n        src="https://media.tenor.com/zZ40mt2KOFoAAAAC/crying-mei-lee.gif"\n        alt="Panda crying"\n      />';c.innerHTML=e}()})).catch((e=>console.log(e))),a.classList.remove("is-hidden"),document.addEventListener("keydown",l),document.removeEventListener("keydown",r.onEscClose)}function l(e){"Escape"===e.code&&(document.removeEventListener("keydown",l),document.addEventListener("keydown",r.onEscClose),a.classList.add("is-hidden"),c.innerHTML="")}a.addEventListener("click",(function(e){e.currentTarget===e.target&&(a.classList.add("is-hidden"),document.addEventListener("keydown",r.onEscClose),c.innerHTML="")}))})),i("kyEFX").register(JSON.parse('{"b9auz":"index.90f6a3fa.js","frxiO":"placeholder.2262f4e0.png"}'));
//# sourceMappingURL=index.90f6a3fa.js.map
