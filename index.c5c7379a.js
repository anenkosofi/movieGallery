!function(){function t(t){return t&&t.__esModule?t.default:t}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},a=e.parcelRequired7c6;null==a&&((a=function(t){if(t in n)return n[t].exports;if(t in r){var e=r[t];delete r[t];var a={id:t,exports:{}};return n[t]=a,e.call(a.exports,a,a.exports),a.exports}var i=new Error("Cannot find module '"+t+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(t,e){r[t]=e},e.parcelRequired7c6=a),a("kgI7q");var i=a("bpxeT"),o=a("2TvXO"),c=a("kgI7q");function s(){return u.apply(this,arguments)}function u(){return u=t(i)(t(o).mark((function e(){var n,r,a=arguments;return t(o).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.length>0&&void 0!==a[0]?a[0]:1,t.next=3,fetch("".concat(c.BASE_URL,"/trending/movie/day?api_key=").concat(c.API_KEY,"&page=").concat(n));case 3:if((r=t.sent).ok){t.next=6;break}throw new Error(r.status);case 6:return t.next=8,r.json();case 8:return t.abrupt("return",t.sent);case 9:case"end":return t.stop()}}),e)}))),u.apply(this,arguments)}var l=a("bELoF"),d=document.querySelector(".movie-list");function f(t){var e=t.map((function(t){var e=t.id,n=t.poster_path,r=t.title,a=t.genre_ids,i=t.release_date;return'<li class="movie-list__item" data-id="'.concat(e,'">\n            <img class="movie-image" ').concat((0,l.checkImageSrc)(n),' alt="Movie poster" loading="lazy" />\n            <div class="movie-descr">\n              <h2 class="movie-title">').concat(r||"Unknown",'</h2>\n              <p class="movie-info"><span class="genre">').concat((0,l.genresIdConverter)(a)||"No information"," |</span><span>").concat((0,l.getFullYear)(i)||"No information","</span></p>\n            </div>\n        </li>")})).join("");d.innerHTML=e}var p=a("8nrFW"),v=a("1VCXc"),m=document.querySelector(".movie-list"),h=document.querySelector(".pagination-list"),b=document.querySelector(".pagination"),g=document.querySelector("body").getBoundingClientRect();function y(){var e=document.querySelectorAll(".pagination-button");t(p)(e).map((function(t){if(t.classList.contains("active")){var e=Number(t.textContent)-1;s(e).then((function(t){f(t.results)})).catch((function(t){return console.log(t)})),(0,v.clearMarkup)(h),S(e),w(e),k(e)}}))}function L(){var e=document.querySelectorAll(".pagination-button");t(p)(e).map((function(t){if(t.classList.contains("active")){var e=Number(t.textContent)+1;s(e).then((function(t){f(t.results)})).catch((function(t){return console.log(t)})),(0,v.clearMarkup)(h),S(e),w(e),k(e)}}))}function w(t){var e=b.firstElementChild,n=b.lastElementChild;1===t?(e.disabled="true",n.hasAttribute("disabled")&&n.removeAttribute("disabled")):20===t?(n.disabled="true",e.hasAttribute("disabled")&&e.removeAttribute("disabled")):(e.hasAttribute("disabled")&&e.removeAttribute("disabled"),n.hasAttribute("disabled")&&n.removeAttribute("disabled"))}function q(t){return t.map((function(t){return'<li class="pagination-item">\n          <button class="pagination-button" type="button">'.concat(t,"</button>\n        </li>")})).join("")}function S(t){var e=[],n="",r=0,a='<li class="pagination-item"><button class="pagination-button" type="button" disabled>...</button></li>',i='<li class="pagination-item"><button class="pagination-button" type="button">1</button></li>',o='<li class="pagination-item"><button class="pagination-button" type="button">20</button></li>';if(t>=1&&t<=3){r=5;for(var c=1;c<=r;c+=1)e.push(c);if(g.width<768){var s=q(e);n="".concat(s)}else{var u=q(e);n="".concat(u," ").concat(a," ").concat(o)}}else if(t>3&&t<18){r=t+2;for(var l=t-2;l<=r;l+=1)e.push(l);if(g.width<768){var d=q(e);n="".concat(d)}else{var f=q(e);n="".concat(i," ").concat(a," ").concat(f," ").concat(a," ").concat(o)}}else if(t>=18){for(var p=16;p<=20;p+=1)e.push(p);if(g.width<768){var v=q(e);n="".concat(v)}else{var m=q(e);n="".concat(i," ").concat(a," ").concat(m)}}h.innerHTML=n}function k(e){var n=document.querySelectorAll(".pagination-button");t(p)(n).map((function(t){t.classList.contains("active")&&t.classList.remove("active"),Number(t.textContent)===e&&t.classList.add("active")}))}function x(t){if("BUTTON"===t.target.nodeName&&t.target.textContent){var e=Number(t.target.textContent);(0,v.clearMarkup)(m),s(e).then((function(t){f(t.results)})).catch((function(t){return console.log(t)})),(0,v.clearMarkup)(h),S(e),w(e),k(e)}}var E=document.querySelector(".pagination-list");!function(){s().then((function(t){return f(t.results)})).catch((function(t){return console.log(t)})),S(1),w(1),k(1),E.addEventListener("click",x);var t=document.querySelector(".arrow-left"),e=document.querySelector(".arrow-right");t.classList.remove("is-hidden"),e.classList.remove("is-hidden"),t.addEventListener("click",y),e.addEventListener("click",L)}(),a("e9OUR"),a("bELoF"),a("6Hzcf"),a("aZweA"),a("aXvIb"),a("7FCPQ"),a("bmUS0"),a("cfdYy");i=a("bpxeT"),o=a("2TvXO"),c=a("kgI7q"),v=a("1VCXc");var A=document.querySelector(".pagination-list"),_=document.querySelector(".results-list"),C=document.querySelector(".error-message"),T=document.querySelector(".form");function M(t){return N.apply(this,arguments)}function N(){return(N=t(i)(t(o).mark((function e(n){var r;return t(o).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(c.BASE_URL,"/search/movie?api_key=").concat(c.API_KEY,"&query=").concat(n));case 2:if((r=t.sent).ok){t.next=5;break}throw new Error(r.status);case 5:return t.next=7,r.json();case 7:return t.abrupt("return",t.sent);case 8:case"end":return t.stop()}}),e)})))).apply(this,arguments)}T.addEventListener("submit",(function(t){t.preventDefault(),M(t.currentTarget.elements.searchQuery.value.trim().toLowerCase()).then((function(t){var e=t.results;_.classList.add("is-hidden"),f(e)})).catch((function(t){return console.log(t)}));var e=document.querySelector(".arrow-left"),n=document.querySelector(".arrow-right");e.classList.add("is-hidden"),n.classList.add("is-hidden"),(0,v.clearMarkup)(A),T.reset()})),document.querySelector(".form-input").addEventListener("input",(function(t){var e=t.target.value.trim().toLowerCase();e?M(e).then((function(t){var e=t.results;t.total_results?(C.classList.remove("is-shown"),T.classList.add("input-change"),_.classList.remove("is-hidden"),function(t){var e=t.map((function(t){var e=t.id,n=t.title;return'<li class="results-item" data-id="'.concat(e,'">').concat(n,"</li>")})).join("");_.innerHTML=e}(e)):(C.classList.add("is-shown"),T.classList.remove("input-change"),_.classList.add("is-hidden"))})).catch((function(t){return console.log(t)})):(T.classList.remove("input-change"),_.classList.add("is-hidden"));var n=document.querySelector(".arrow-left"),r=document.querySelector(".arrow-right");n.classList.add("is-hidden"),r.classList.add("is-hidden"),(0,v.clearMarkup)(A)}))}();
//# sourceMappingURL=index.c5c7379a.js.map
