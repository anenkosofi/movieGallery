!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},a={},i=t.parcelRequired7c6;null==i&&((i=function(e){if(e in n)return n[e].exports;if(e in a){var t=a[e];delete a[e];var i={id:e,exports:{}};return n[e]=i,t.call(i.exports,i,i.exports),i.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){a[e]=t},t.parcelRequired7c6=i),i("kgI7q");var r=i("bpxeT"),o=i("2TvXO"),s=i("kgI7q");function c(){return l.apply(this,arguments)}function l(){return l=e(r)(e(o).mark((function t(){var n,a,i=arguments;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>0&&void 0!==i[0]?i[0]:1,e.next=3,fetch("".concat(s.BASE_URL,"/trending/movie/day?api_key=").concat(s.API_KEY,"&page=").concat(n));case 3:if((a=e.sent).ok){e.next=6;break}throw new Error(a.status);case 6:return e.next=8,a.json();case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),t)}))),l.apply(this,arguments)}var u=i("bELoF"),d=document.querySelector(".movie-list");function v(e){var t=e.map((function(e){var t=e.id,n=e.poster_path,a=e.title,i=e.genre_ids,r=e.release_date;return'<li class="movie-list__item" data-id="'.concat(t,'">\n            <img class="movie-image" ').concat((0,u.checkImageSrc)(n),' alt="Movie poster" loading="lazy" />\n            <div class="movie-descr">\n              <h2 class="movie-title">').concat(a||"Unknown",'</h2>\n              <p class="movie-info"><span class="genre">').concat((0,u.genresIdConverter)(i)||"No information"," |</span><span>").concat((0,u.getFullYear)(r)||"No information","</span></p>\n            </div>\n        </li>")})).join("");d.innerHTML=t}var p=i("8nrFW"),f=i("1VCXc"),m=document.querySelector(".movie-list"),h=document.querySelector(".pagination-list"),g=document.querySelector(".pagination"),b=document.querySelector("body").getBoundingClientRect();function y(){var t=document.querySelectorAll(".pagination-button");e(p)(t).map((function(e){if(e.classList.contains("active")){var t=Number(e.textContent)-1;c(t).then((function(e){v(e.results)})).catch((function(e){return console.log(e)})),(0,f.clearMarkup)(h),S(t),w(t),k(t)}}))}function L(){var t=document.querySelectorAll(".pagination-button");e(p)(t).map((function(e){if(e.classList.contains("active")){var t=Number(e.textContent)+1;c(t).then((function(e){v(e.results)})).catch((function(e){return console.log(e)})),(0,f.clearMarkup)(h),S(t),w(t),k(t)}}))}function w(e){var t=g.firstElementChild,n=g.lastElementChild;1===e?(t.disabled="true",n.hasAttribute("disabled")&&n.removeAttribute("disabled")):20===e?(n.disabled="true",t.hasAttribute("disabled")&&t.removeAttribute("disabled")):(t.hasAttribute("disabled")&&t.removeAttribute("disabled"),n.hasAttribute("disabled")&&n.removeAttribute("disabled"))}function q(e){return e.map((function(e){return'<li class="pagination-item">\n          <button class="pagination-button" type="button">'.concat(e,"</button>\n        </li>")})).join("")}function S(e){var t=[],n="",a=0,i='<li class="pagination-item"><button class="pagination-button" type="button" disabled>...</button></li>',r='<li class="pagination-item"><button class="pagination-button" type="button">1</button></li>',o='<li class="pagination-item"><button class="pagination-button" type="button">20</button></li>';if(e>=1&&e<=3){a=5;for(var s=1;s<=a;s+=1)t.push(s);if(b.width<768){var c=q(t);n="".concat(c)}else{var l=q(t);n="".concat(l," ").concat(i," ").concat(o)}}else if(e>3&&e<18){a=e+2;for(var u=e-2;u<=a;u+=1)t.push(u);if(b.width<768){var d=q(t);n="".concat(d)}else{var v=q(t);n="".concat(r," ").concat(i," ").concat(v," ").concat(i," ").concat(o)}}else if(e>=18){for(var p=16;p<=20;p+=1)t.push(p);if(b.width<768){var f=q(t);n="".concat(f)}else{var m=q(t);n="".concat(r," ").concat(i," ").concat(m)}}h.innerHTML=n}function k(t){var n=document.querySelectorAll(".pagination-button");e(p)(n).map((function(e){e.classList.contains("active")&&e.classList.remove("active"),Number(e.textContent)===t&&e.classList.add("active")}))}function x(e){if("BUTTON"===e.target.nodeName&&e.target.textContent){var t=Number(e.target.textContent);(0,f.clearMarkup)(m),c(t).then((function(e){v(e.results)})).catch((function(e){return console.log(e)})),(0,f.clearMarkup)(h),S(t),w(t),k(t)}}var E=document.querySelector(".pagination-list");!function(){document.body.style.overflow="hidden";c().then((function(e){return v(e.results)})).catch((function(e){return console.log(e)})),S(1),w(1),k(1),E.addEventListener("click",x);var e=document.querySelector(".arrow-left"),t=document.querySelector(".arrow-right");e.classList.remove("is-hidden"),t.classList.remove("is-hidden"),e.addEventListener("click",y),t.addEventListener("click",L),document.querySelector(".loader-wrapper").classList.add("turn-off"),document.body.style.overflow="visible"}(),i("e9OUR"),i("bELoF"),i("6Hzcf"),i("aZweA"),i("aXvIb"),i("7FCPQ"),i("bmUS0"),i("cfdYy");r=i("bpxeT"),o=i("2TvXO"),s=i("kgI7q"),f=i("1VCXc"),u=i("bELoF");var _=i("aZweA"),A=i("aXvIb"),C=document.querySelector(".movie-list"),M=document.querySelector(".pagination-list"),T=document.querySelector(".results-list"),N=document.querySelector(".error-message"),I=document.querySelector(".form");I.addEventListener("submit",(function(e){e.preventDefault(),F(e.currentTarget.elements.searchQuery.value.trim().toLowerCase()).then((function(e){var t=e.results;T.classList.add("is-hidden"),I.classList.remove("input-change"),v(t)})).catch((function(e){return console.log(e)}));var t=document.querySelector(".arrow-left"),n=document.querySelector(".arrow-right");t.classList.add("is-hidden"),n.classList.add("is-hidden"),(0,f.clearMarkup)(M),I.reset()}));var U=document.querySelector(".form-input");function F(e){return O.apply(this,arguments)}function O(){return(O=e(r)(e(o).mark((function t(n){var a;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(s.BASE_URL,"/search/movie?api_key=").concat(s.API_KEY,"&query=").concat(n));case 2:if((a=e.sent).ok){e.next=5;break}throw new Error(a.status);case 5:return e.next=7,a.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),t)})))).apply(this,arguments)}U.addEventListener("input",(function(e){var t=e.target.value.trim().toLowerCase();t?F(t).then((function(e){var t=e.results;e.total_results?(N.classList.remove("is-shown"),I.classList.add("input-change"),T.classList.remove("is-hidden"),function(e){var t=e.map((function(e){var t=e.id,n=e.title;return'<li class="results-item" data-id="'.concat(t,'">\n          <span class="title">').concat(n,'</span>\n          <span class="delimeter">|</span>\n          <span class="year">2022</span>\n          <span class="vote">7.8</span>\n        </li>')})).join("");T.innerHTML=t}(t)):(N.classList.add("is-shown"),I.classList.remove("input-change"),T.classList.add("is-hidden"))})).catch((function(e){return console.log(e)})):(I.classList.remove("input-change"),T.classList.add("is-hidden"));var n=document.querySelector(".arrow-left"),a=document.querySelector(".arrow-right");n.classList.add("is-hidden"),a.classList.add("is-hidden"),(0,f.clearMarkup)(M)})),U.addEventListener("blur",(function(){I.classList.remove("input-change"),T.classList.add("is-hidden")})),T.addEventListener("click",(function(e){if(!e.target.closest("li"))return;if(e.target.closest("li")){var t=e.target.closest("li").dataset.id;(0,_.fetchMovieDetails)(t).then((function(e){return n=(t=e).id,a=t.poster_path,i=t.title,r=t.genres,o=t.release_date,s='<li class="movie-list__item" data-id="'.concat(n,'">\n            <img class="movie-image" ').concat((0,u.checkImageSrc)(a),' alt="Movie poster" loading="lazy" />\n            <div class="movie-descr">\n              <h2 class="movie-title">').concat(i||"Unknown",'</h2>\n              <p class="movie-info"><span class="genre">').concat((0,A.checkGenres)(r)||"No information"," |</span><span>").concat((0,u.getFullYear)(o)||"No information","</span></p>\n            </div>\n        </li>"),void(C.innerHTML=s);var t,n,a,i,r,o,s})).catch((function(e){return console.log(e)})),I.classList.remove("input-change"),T.classList.add("is-hidden"),I.reset()}}))}();
//# sourceMappingURL=index.a371545e.js.map
