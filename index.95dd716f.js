!function(){function t(t){return t&&t.__esModule?t.default:t}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},a={},o=e.parcelRequired7c6;null==o&&((o=function(t){if(t in n)return n[t].exports;if(t in a){var e=a[t];delete a[t];var o={id:t,exports:{}};return n[t]=o,e.call(o.exports,o,o.exports),o.exports}var r=new Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(t,e){a[t]=e},e.parcelRequired7c6=o),o("kgI7q");var r=o("bpxeT"),i=o("2TvXO"),c=o("kgI7q");function s(){return u.apply(this,arguments)}function u(){return u=t(r)(t(i).mark((function e(){var n,a,o=arguments;return t(i).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=o.length>0&&void 0!==o[0]?o[0]:1,t.next=3,fetch("".concat(c.BASE_URL,"/trending/movie/day?api_key=").concat(c.API_KEY,"&page=").concat(n));case 3:if((a=t.sent).ok){t.next=6;break}throw new Error(a.status);case 6:return t.next=8,a.json();case 8:return t.abrupt("return",t.sent);case 9:case"end":return t.stop()}}),e)}))),u.apply(this,arguments)}var l=o("bELoF"),d=document.querySelector(".movie-list");function f(t){var e=t.map((function(t){var e=t.id,n=t.poster_path,a=t.title,o=t.genre_ids,r=t.release_date;return'<li class="movie-list__item" data-id="'.concat(e,'">\n            <img class="movie-image" ').concat((0,l.checkImageSrc)(n),' alt="Movie poster" loading="lazy" />\n            <div class="movie-descr">\n              <h2 class="movie-title">').concat(a||"Unknown",'</h2>\n              <p class="movie-info"><span class="genre">').concat((0,l.genresIdConverter)(o)||"No information","</span><span>| ").concat((0,l.getFullYear)(r)||" ","</span></p>\n            </div>\n        </li>")})).join("");d.innerHTML=e}var p=o("8nrFW"),v=o("1VCXc"),b=document.querySelector(".movie-list"),m=document.querySelector(".pagination-list"),g=document.querySelector(".pagination"),h=document.querySelector("body").getBoundingClientRect();function y(){var e=document.querySelectorAll(".pagination-button");t(p)(e).map((function(t){if(t.classList.contains("active")){var e=Number(t.textContent)-1;s(e).then((function(t){f(t.results)})).catch((function(t){return console.log(t)})),(0,v.clearMarkup)(m),q(e),k(e),L(e)}}))}function w(){var e=document.querySelectorAll(".pagination-button");t(p)(e).map((function(t){if(t.classList.contains("active")){var e=Number(t.textContent)+1;s(e).then((function(t){f(t.results)})).catch((function(t){return console.log(t)})),(0,v.clearMarkup)(m),q(e),k(e),L(e)}}))}function k(t){var e=g.firstElementChild,n=g.lastElementChild;1===t?(e.disabled="true",n.hasAttribute("disabled")&&n.removeAttribute("disabled")):20===t?(n.disabled="true",e.hasAttribute("disabled")&&e.removeAttribute("disabled")):(e.hasAttribute("disabled")&&e.removeAttribute("disabled"),n.hasAttribute("disabled")&&n.removeAttribute("disabled"))}function x(t){return t.map((function(t){return'<li class="pagination-item">\n          <button class="pagination-button" type="button">'.concat(t,"</button>\n        </li>")})).join("")}function q(t){var e=[],n="",a=0,o='<li class="pagination-item"><button class="pagination-button" type="button" disabled>...</button></li>',r='<li class="pagination-item"><button class="pagination-button" type="button">1</button></li>',i='<li class="pagination-item"><button class="pagination-button" type="button">20</button></li>';if(t>=1&&t<=3){a=5;for(var c=1;c<=a;c+=1)e.push(c);if(h.width<768){var s=x(e);n="".concat(s)}else{var u=x(e);n="".concat(u," ").concat(o," ").concat(i)}}else if(t>3&&t<18){a=t+2;for(var l=t-2;l<=a;l+=1)e.push(l);if(h.width<768){var d=x(e);n="".concat(d)}else{var f=x(e);n="".concat(r," ").concat(o," ").concat(f," ").concat(o," ").concat(i)}}else if(t>=18){for(var p=16;p<=20;p+=1)e.push(p);if(h.width<768){var v=x(e);n="".concat(v)}else{var b=x(e);n="".concat(r," ").concat(o," ").concat(b)}}m.innerHTML=n}function L(e){var n=document.querySelectorAll(".pagination-button");t(p)(n).map((function(t){t.classList.contains("active")&&t.classList.remove("active"),Number(t.textContent)===e&&t.classList.add("active")}))}function A(t){if("BUTTON"===t.target.nodeName&&t.target.textContent){var e=Number(t.target.textContent);(0,v.clearMarkup)(b),s(e).then((function(t){f(t.results)})).catch((function(t){return console.log(t)})),(0,v.clearMarkup)(m),q(e),k(e),L(e)}}var E=document.querySelector(".pagination-list");!function(){s().then((function(t){return f(t.results)})).catch((function(t){return console.log(t)})),q(1),k(1),L(1),E.addEventListener("click",A);var t=document.querySelector(".arrow-left"),e=document.querySelector(".arrow-right");t.classList.remove("is-hidden"),e.classList.remove("is-hidden"),t.addEventListener("click",y),e.addEventListener("click",w)}(),o("e9OUR"),o("bELoF"),o("6Hzcf"),o("aZweA"),o("aXvIb"),o("7FCPQ"),o("bmUS0"),o("cfdYy");r=o("bpxeT"),i=o("2TvXO"),c=o("kgI7q");function S(){return(S=t(r)(t(i).mark((function e(n){var a;return t(i).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(c.BASE_URL,"/search/movie?api_key=").concat(c.API_KEY,"&query=").concat(n));case 2:if((a=t.sent).ok){t.next=5;break}throw new Error(a.status);case 5:return t.next=7,a.json();case 7:return t.abrupt("return",t.sent);case 8:case"end":return t.stop()}}),e)})))).apply(this,arguments)}document.querySelector(".form").addEventListener("submit",(function(t){t.preventDefault(),console.dir(t.target)})),function(t){return S.apply(this,arguments)}().then((function(t){return console.log(t)}))}();
//# sourceMappingURL=index.95dd716f.js.map
